[
  {
    "id": "value-rule-001",
    "rule_name": "High Temperature Alert",
    "description": "Send WhatsApp alert when temperature exceeds 30Â°C",
    "group_rule_name": "Environmental Monitoring",
    "created_at": "2025-09-25 23:10:00",
    "trigger_groups": [
      {
        "group_name": "Temperature Sensor Group",
        "group_operator": "AND",
        "triggers": [
          {
            "device_name": "TempSensor1",
            "device_mac": "AA:BB:CC:DD:EE:33",
            "device_address": 3,
            "device_bus": 0,
            "trigger_type": "drycontact",
            "pin_number": 1,
            "condition_operator": "is",
            "target_value": true,
            "expected_value": true,
            "delay_on": 30,
            "delay_off": 10
          }
        ]
      }
    ],
    "actions": [
      {
        "action_type": "send_message",
        "message_type": "whatsapp",
        "whatsapp_number": "6281284842478",
        "whatsapp_name": "Pak Sen",
        "message": "ðŸŒ¡ï¸ ALERT: Suhu ruangan > 30Â°C! Periksa AC atau ventilasi.",
        "message_template_id": "300d84f2-d962-4451-bc27-870fb99d18e7",
        "channel_integration_id": "662f9fcb-7e2b-4c1a-8eda-9aeb4a388004",
        "description": "Send temperature alert to Pak Sen"
      },
      {
        "action_type": "control_relay",
        "target_device": "Relay1",
        "target_mac": "AA:BB:CC:DD:EE:22",
        "target_address": 2,
        "target_bus": 0,
        "relay_pin": 1,
        "target_value": true,
        "description": "Turn on cooling fan"
      }
    ],
    "name": "High Temperature Alert",
    "topic": "modbus/sensor/temperature",
    "config": {
      "key_value": "temperature",
      "logic": ">",
      "value": 30,
      "auto": true
    },
    "relay": {
      "name": "CoolingFan",
      "pin": 1,
      "logic": true,
      "address": 2,
      "bus": 0
    }
  },
  {
    "id": "value-rule-002",
    "rule_name": "Low Humidity Alert",
    "description": "Send WhatsApp alert when humidity drops below 40%",
    "group_rule_name": "Environmental Monitoring",
    "created_at": "2025-09-25 23:15:00",
    "trigger_groups": [
      {
        "group_name": "Humidity Sensor Group",
        "group_operator": "AND",
        "triggers": [
          {
            "device_name": "HumiditySensor1",
            "device_mac": "AA:BB:CC:DD:EE:44",
            "device_address": 4,
            "device_bus": 0,
            "trigger_type": "drycontact",
            "pin_number": 2,
            "condition_operator": "is",
            "target_value": true,
            "expected_value": true,
            "delay_on": 60,
            "delay_off": 30
          }
        ]
      }
    ],
    "actions": [
      {
        "action_type": "send_message",
        "message_type": "whatsapp",
        "whatsapp_number": "6281284842478",
        "whatsapp_name": "Pak Sen",
        "message": "ðŸ’§ ALERT: Kelembaban udara < 40%! Periksa humidifier.",
        "message_template_id": "300d84f2-d962-4451-bc27-870fb99d18e7",
        "channel_integration_id": "662f9fcb-7e2b-4c1a-8eda-9aeb4a388004",
        "description": "Send humidity alert to Pak Sen"
      },
      {
        "action_type": "control_relay",
        "target_device": "Relay2",
        "target_mac": "AA:BB:CC:DD:EE:55",
        "target_address": 5,
        "target_bus": 0,
        "relay_pin": 2,
        "target_value": true,
        "description": "Turn on humidifier"
      }
    ],
    "name": "Low Humidity Alert",
    "topic": "modbus/sensor/humidity",
    "config": {
      "key_value": "humidity",
      "logic": "<",
      "value": 40,
      "auto": true
    },
    "relay": {
      "name": "Humidifier",
      "pin": 2,
      "logic": true,
      "address": 5,
      "bus": 0
    }
  },
  {
    "id": "value-rule-003",
    "rule_name": "Power Consumption Alert",
    "description": "Send WhatsApp alert when power consumption exceeds 5kW",
    "group_rule_name": "Power Monitoring",
    "created_at": "2025-09-25 23:20:00",
    "trigger_groups": [
      {
        "group_name": "Power Meter Group",
        "group_operator": "AND",
        "triggers": [
          {
            "device_name": "PowerMeter1",
            "device_mac": "AA:BB:CC:DD:EE:66",
            "device_address": 6,
            "device_bus": 0,
            "trigger_type": "drycontact",
            "pin_number": 3,
            "condition_operator": "is",
            "target_value": true,
            "expected_value": true,
            "delay_on": 15,
            "delay_off": 5
          }
        ]
      }
    ],
    "actions": [
      {
        "action_type": "send_message",
        "message_type": "whatsapp",
        "whatsapp_number": "6281284842478",
        "whatsapp_name": "Pak Sen",
        "message": "âš¡ ALERT: Konsumsi daya > 5kW! Periksa penggunaan listrik.",
        "message_template_id": "300d84f2-d962-4451-bc27-870fb99d18e7",
        "channel_integration_id": "662f9fcb-7e2b-4c1a-8eda-9aeb4a388004",
        "description": "Send power consumption alert to Pak Sen"
      },
      {
        "action_type": "control_relay",
        "target_device": "Relay3",
        "target_mac": "AA:BB:CC:DD:EE:77",
        "target_address": 7,
        "target_bus": 0,
        "relay_pin": 3,
        "target_value": false,
        "description": "Turn off non-essential loads"
      }
    ],
    "name": "Power Consumption Alert",
    "topic": "modbus/sensor/power",
    "config": {
      "key_value": "power_kw",
      "logic": ">",
      "value": 5,
      "auto": true
    },
    "relay": {
      "name": "LoadController",
      "pin": 3,
      "logic": false,
      "address": 7,
      "bus": 0
    }
  }
]
