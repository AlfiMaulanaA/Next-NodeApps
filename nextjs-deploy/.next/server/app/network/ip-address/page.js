(()=>{var e={};e.id=720,e.ids=[720],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},1012:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l});var r=t(67096),a=t(16132),n=t(37284),i=t.n(n),d=t(32564),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(s,o);let l=["",{children:["network",{children:["ip-address",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79938)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\network\\ip-address\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,35345)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,44293)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\not-found.tsx"]}],c=["D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\network\\ip-address\\page.tsx"],u="/network/ip-address/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/network/ip-address/page",pathname:"/network/ip-address",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},41858:(e,s,t)=>{Promise.resolve().then(t.bind(t,78837))},78837:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>NetworkPage});var r=t(30784),a=t(9885),n=t(36482),i=t.n(n),d=t(9941),o=t(40516),l=t(33770),c=t(95555),u=t(73928),p=t(31362),x=t(20599),m=t(14172),h=t(50257),g=t(5705),f=t(88012),j=t(41129);function NetworkPage(){let[e,s]=(0,a.useState)("disconnected"),[t,n]=(0,a.useState)(null),[N,v]=(0,a.useState)({address:"",netmask:"",gateway:""}),[w,_]=(0,a.useState)(!1),P=(0,a.useRef)(),isValidIP=e=>/^(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}$/.test(e),isValidNetmask=e=>/^(255|254|252|248|240|224|192|128|0)\.0\.0\.0$|^255\.(255|254|252|248|240|224|192|128|0)\.0\.0$|^255\.255\.(255|254|252|248|240|224|192|128|0)\.0$|^255\.255\.255\.(255|254|252|248|240|224|192|128|0)$/.test(e),handleInput=(e,s)=>{v(t=>({...t,[e]:s}))},readConfig=()=>{P.current?.publish("command_device_ip",JSON.stringify({command:"readIP",interface:"eth0"}))};(0,a.useEffect)(()=>{let e=i().connect("ws://localhost:9000");return e.on("connect",()=>{s("connected"),e.subscribe("response_device_ip"),e.publish("command_device_ip",JSON.stringify({command:"readIP",interface:"eth0"})),readConfig()}),e.on("error",()=>s("error")),e.on("close",()=>s("disconnected")),e.on("message",(e,s)=>{try{let e=JSON.parse(s.toString());e.eth0&&(n(e.eth0),v(e.eth0)),"success"===e.status?d.Am.success(e.message||"Success"):"error"===e.status&&d.Am.error(e.message||"Error occurred")}catch(e){d.Am.error("Invalid response")}}),P.current=e,()=>{e.end()}},[]);let restartNetwork=()=>{d.Am.loading("Restarting networking..."),P.current?.publish("command_device_ip",JSON.stringify({command:"restartNetworking"}))};return(0,r.jsxs)(p.kV,{children:[(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(p.vP,{className:"-ml-1"}),r.jsx(u.Z,{orientation:"vertical",className:"h-4"}),r.jsx(f.Z,{className:"w-5 h-5 text-muted-foreground"}),r.jsx("h1",{className:"text-lg font-semibold",children:"Network Configuration"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["connected"===e?r.jsx(m.Z,{className:"w-4 h-4 text-green-500"}):"error"===e?r.jsx(h.Z,{className:"w-4 h-4 text-red-500"}):r.jsx(g.Z,{className:"w-4 h-4 animate-spin text-yellow-500"}),r.jsx("span",{className:"capitalize text-sm",children:e}),r.jsx(c.z,{variant:"outline",size:"icon",onClick:readConfig,children:r.jsx(j.Z,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"p-6",children:(0,r.jsxs)(x.Zb,{children:[r.jsx(x.Ol,{children:r.jsx(x.ll,{children:"IP Configuration (eth0)"})}),r.jsx(x.aY,{children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx("table",{className:"text-sm w-full",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"font-medium",children:"IP Address"}),r.jsx("td",{children:t.address})]}),(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"font-medium",children:"Netmask"}),r.jsx("td",{children:t.netmask})]}),(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"font-medium",children:"Gateway"}),r.jsx("td",{children:t.gateway})]})]})}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,r.jsxs)(o.Vq,{open:w,onOpenChange:_,children:[r.jsx(o.hg,{asChild:!0,children:r.jsx(c.z,{size:"sm",variant:"default",children:"Edit IP"})}),(0,r.jsxs)(o.cZ,{children:[r.jsx(o.fK,{children:r.jsx(o.$N,{children:"Edit IP Configuration"})}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(l.I,{placeholder:"IP Address",value:N.address,onChange:e=>handleInput("address",e.target.value)}),r.jsx(l.I,{placeholder:"Netmask",value:N.netmask,onChange:e=>handleInput("netmask",e.target.value)}),r.jsx(l.I,{placeholder:"Gateway",value:N.gateway,onChange:e=>handleInput("gateway",e.target.value)}),r.jsx(c.z,{onClick:()=>{if(!isValidIP(N.address)||!isValidIP(N.gateway)||!isValidNetmask(N.netmask)){d.Am.error("Invalid input format");return}P.current?.publish("command_device_ip/update",JSON.stringify(N)),_(!1),d.Am.success("Configuration sent, restarting..."),restartNetwork()},children:"Save Changes"})]})]})]}),r.jsx(c.z,{size:"sm",variant:"secondary",onClick:restartNetwork,children:"Restart Networking"})]})]}):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No configuration loaded."})})]})})]})}},79938:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var r=t(95153);let a=(0,r.createProxy)(String.raw`D:\Alfi\RnD\IOT\DEVELOPMENT\App-Nodes\app\network\ip-address\page.tsx`),{__esModule:n,$$typeof:i}=a,d=a.default,o=d}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[5075,7783,6482,9941,3572,754,599,516],()=>__webpack_exec__(1012));module.exports=t})();