(()=>{var e={};e.id=4348,e.ids=[4348],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},78085:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=s(67096),i=s(16132),n=s(37284),a=s.n(n),l=s(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c=["",{children:["settings",{children:["error-log",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4413)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\settings\\error-log\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,35345)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,38196)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,44293)),"D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\not-found.tsx"]}],d=["D:\\Alfi\\RnD\\IOT\\DEVELOPMENT\\App-Nodes\\app\\settings\\error-log\\page.tsx"],x="/settings/error-log/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/settings/error-log/page",pathname:"/settings/error-log",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23052:(e,r,s)=>{Promise.resolve().then(s.bind(s,88135))},88135:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>ErrorLogPage});var t=s(30784),i=s(9885),n=s(36482),a=s.n(n),l=s(57560),o=s(31362),c=s(73928),d=s(20599),x=s(95555),p=s(61890),u=s(46544),m=s(9941),h=s(48374),g=s(41129),j=s(26303),f=s(85574),N=s(74050),b=s(13422),E=s(47917),v=s(94112);function ErrorLogPage(){let[e,r]=(0,i.useState)("disconnected"),[s,n]=(0,i.useState)([]),[_,y]=(0,i.useState)(1),P=(0,i.useRef)(null),{sorted:q,handleSort:k,sortField:w,sortDirection:A}=(0,v.E)(s);(0,i.useEffect)(()=>{let e=a().connect("ws://localhost:9000");return e.on("connect",()=>{r("connected"),e.subscribe("subrack/error/data"),e.subscribe("subrack/error/data/delete")}),e.on("error",()=>r("error")),e.on("close",()=>r("disconnected")),e.on("message",(e,r)=>{try{let s=JSON.parse(r.toString());"subrack/error/data/delete"===e&&"delete"===s.command?n([]):n(Array.isArray(s)?s:[]),y(1)}catch{m.Am.error("Invalid payload format")}}),P.current=e,()=>{e.end()}},[]);let D=Math.ceil(q.length/10),C=q.slice((_-1)*10,10*_),getTypeBadge=e=>{let r=e.toLowerCase();return"critical"===r?t.jsx(p.C,{variant:"destructive",children:e}):"major"===r?t.jsx(p.C,{variant:"outline",className:"bg-orange-300 border-orange-600 text-orange-600",children:e}):t.jsx(p.C,{variant:"secondary",children:e})};return(0,t.jsxs)(o.kV,{children:[(0,t.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(o.vP,{className:"-ml-1"}),t.jsx(c.Z,{orientation:"vertical",className:"h-4"}),t.jsx(h.Z,{className:"w-5 h-5 text-muted-foreground"}),t.jsx("h1",{className:"text-lg font-semibold",children:"Error Log Viewer"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(u.Z,{}),t.jsx(x.z,{variant:"outline",size:"icon",onClick:()=>window.location.reload(),title:"Reload",children:t.jsx(g.Z,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"p-6 space-y-4",children:(0,t.jsxs)(d.Zb,{children:[t.jsx(d.Ol,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[t.jsx(d.ll,{className:"text-base",children:"Error Logs"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(x.z,{size:"sm",variant:"destructive",onClick:()=>{P.current?.publish("subrack/error/data/delete",JSON.stringify({command:"delete"}))},title:"Delete all logs",children:[t.jsx(j.Z,{className:"w-4 h-4 mr-1"})," Delete All"]}),(0,t.jsxs)(x.z,{size:"sm",variant:"secondary",onClick:()=>{let e=l.P6.json_to_sheet(s),r=l.P6.book_new();l.P6.book_append_sheet(r,e,"Logs"),l.NC(r,"ErrorLogs.xlsx")},title:"Export logs to Excel",children:[t.jsx(f.Z,{className:"w-4 h-4 mr-1"})," Export to Excel"]})]})]})}),(0,t.jsxs)(d.aY,{children:[(0,t.jsxs)(b.iA,{className:"bg-background mt-4",children:[t.jsx(b.Rn,{children:"Error logs from your devices. Export or clear as needed."}),t.jsx(b.xD,{children:(0,t.jsxs)(b.SC,{children:[t.jsx(b.ss,{children:"#"}),(0,t.jsxs)(b.ss,{className:"cursor-pointer",onClick:()=>k("data"),children:["Data ",t.jsx(N.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,t.jsxs)(b.ss,{className:"cursor-pointer",onClick:()=>k("type"),children:["Type ",t.jsx(N.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,t.jsxs)(b.ss,{className:"cursor-pointer",onClick:()=>k("Timestamp"),children:["Timestamp ",t.jsx(N.Z,{className:"inline w-4 h-4 ml-1"})]})]})}),(0,t.jsxs)(b.RM,{children:[C.map((e,r)=>(0,t.jsxs)(b.SC,{children:[t.jsx(b.pj,{children:(_-1)*10+r+1}),t.jsx(b.pj,{className:"max-w-xs truncate",title:e.data,children:e.data}),t.jsx(b.pj,{children:getTypeBadge(e.type)}),t.jsx(b.pj,{children:e.Timestamp})]},r)),0===C.length&&t.jsx(b.SC,{children:t.jsx(b.pj,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No logs available."})})]})]}),D>1&&t.jsx(E.tl,{className:"mt-4",children:(0,t.jsxs)(E.ng,{children:[t.jsx(E.nt,{children:t.jsx(E.dN,{href:"#",onClick:()=>y(e=>Math.max(1,e-1))})}),Array.from({length:D}).map((e,r)=>t.jsx(E.nt,{children:t.jsx(E.kN,{href:"#",isActive:_===r+1,onClick:()=>y(r+1),children:r+1})},r)),t.jsx(E.nt,{children:t.jsx(E.$0,{href:"#",onClick:()=>y(e=>Math.min(D,e+1))})})]})})]})]})})]})}},4413:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});var t=s(95153);let i=(0,t.createProxy)(String.raw`D:\Alfi\RnD\IOT\DEVELOPMENT\App-Nodes\app\settings\error-log\page.tsx`),{__esModule:n,$$typeof:a}=i,l=i.default,o=l}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[5075,7783,6482,9941,8794,6007,9279,754,599,1890,3892,7640,6544,7578],()=>__webpack_exec__(78085));module.exports=s})();