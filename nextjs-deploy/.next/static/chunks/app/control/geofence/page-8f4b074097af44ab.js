(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6576],{2574:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5531);let r=(0,a.Z)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},6142:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5531);let r=(0,a.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9409:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5531);let r=(0,a.Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2642:function(e,t,n){Promise.resolve().then(n.bind(n,2902))},2902:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return GeoRoutePage}});var a=n(7437),r=n(2265),s=n(307),l=n(5217),o=n(9598),i=n(3611),c=n(6142),d=n(2574),u=n(9409);function createLeafletContext(e){return Object.freeze({__version:1,map:e})}function extendContext(e,t){return Object.freeze({...e,...t})}let f=(0,r.createContext)(null),p=f.Provider;function useLeafletContext(){let e=(0,r.useContext)(f);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var m=n(447);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function MapContainerComponent({bounds:e,boundsOptions:t,center:n,children:a,className:s,id:l,placeholder:o,style:i,whenReady:c,zoom:d,...u},f){let[x]=(0,r.useState)({className:s,id:l,style:i}),[h,g]=(0,r.useState)(null);(0,r.useImperativeHandle)(f,()=>h?.map??null,[h]);let v=(0,r.useCallback)(a=>{if(null!==a&&null===h){let r=new m.Map(a,u);null!=n&&null!=d?r.setView(n,d):null!=e&&r.fitBounds(e,t),null!=c&&r.whenReady(c),g(createLeafletContext(r))}},[]);(0,r.useEffect)(()=>()=>{h?.map.remove()},[h]);let j=h?r.createElement(p,{value:h},a):o??null;return r.createElement("div",_extends({},x,{ref:v}),j)}let x=(0,r.forwardRef)(MapContainerComponent);var h=n(4887);function createContainerComponent(e){function ContainerComponent(t,n){let{instance:a,context:s}=e(t).current;return(0,r.useImperativeHandle)(n,()=>a),null==t.children?null:r.createElement(p,{value:s},t.children)}return(0,r.forwardRef)(ContainerComponent)}function createDivOverlayComponent(e){function OverlayComponent(t,n){let[a,s]=(0,r.useState)(!1),{instance:l}=e(t,s).current;(0,r.useImperativeHandle)(n,()=>l),(0,r.useEffect)(function(){a&&l.update()},[l,a,t.children]);let o=l._contentNode;return o?(0,h.createPortal)(t.children,o):null}return(0,r.forwardRef)(OverlayComponent)}function component_createLeafComponent(e){function LeafComponent(t,n){let{instance:a}=e(t).current;return(0,r.useImperativeHandle)(n,()=>a),null}return(0,r.forwardRef)(LeafComponent)}function element_createElementObject(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function element_createElementHook(e,t){return null==t?function(t,n){let a=(0,r.useRef)();return a.current||(a.current=e(t,n)),a}:function(n,a){let s=(0,r.useRef)();s.current||(s.current=e(n,a));let l=(0,r.useRef)(n),{instance:o}=s.current;return(0,r.useEffect)(function(){l.current!==n&&(t(o,n,l.current),l.current=n)},[o,n,a]),s}}function useAttribution(e,t){let n=(0,r.useRef)(t);(0,r.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function useEventHandlers(e,t){let n=(0,r.useRef)();(0,r.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function withPane(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function useLayerLifecycle(e,t){(0,r.useEffect)(function(){let n=t.layerContainer??t.map;return n.addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function createLayerHook(e){return function(t){let n=useLeafletContext(),a=e(withPane(t,n),n);return useAttribution(n.map,t.attribution),useEventHandlers(a.current,t.eventHandlers),useLayerLifecycle(a.current,n),a}}function createDivOverlayHook(e,t){return function(n,a){let r=useLeafletContext(),s=e(withPane(n,r),r);return useAttribution(r.map,n.attribution),useEventHandlers(s.current,n.eventHandlers),t(s.current,r,n,a),s}}function usePathOptions(e,t){let n=(0,r.useRef)();(0,r.useEffect)(function(){if(t.pathOptions!==n.current){let a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function createPathHook(e){return function(t){let n=useLeafletContext(),a=e(withPane(t,n),n);return useEventHandlers(a.current,t.eventHandlers),useLayerLifecycle(a.current,n),usePathOptions(a.current,t),a}}function createLayerComponent(e,t){let n=element_createElementHook(e,t),a=createLayerHook(n);return createContainerComponent(a)}function createOverlayComponent(e,t){let n=element_createElementHook(e),a=createDivOverlayHook(n,t);return createDivOverlayComponent(a)}function createPathComponent(e,t){let n=element_createElementHook(e,t),a=createPathHook(n);return createContainerComponent(a)}function createTileLayerComponent(e,t){let n=element_createElementHook(e,t),a=createLayerHook(n);return component_createLeafComponent(a)}function updateGridLayer(e,t,n){let{opacity:a,zIndex:r}=t;null!=a&&a!==n.opacity&&e.setOpacity(a),null!=r&&r!==n.zIndex&&e.setZIndex(r)}let g=createTileLayerComponent(function({url:e,...t},n){let a=new m.TileLayer(e,withPane(t,n));return element_createElementObject(a,n)},function(e,t,n){updateGridLayer(e,t,n);let{url:a}=t;null!=a&&a!==n.url&&e.setUrl(a)}),v=createLayerComponent(function({position:e,...t},n){let a=new m.Marker(e,t);return element_createElementObject(a,extendContext(n,{overlayContainer:a}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),j=createOverlayComponent(function(e,t){let n=new m.Popup(e,t.overlayContainer);return element_createElementObject(n,t)},function(e,t,{position:n},a){(0,r.useEffect)(function(){let{instance:r}=e;function onPopupOpen(e){e.popup===r&&(r.update(),a(!0))}function onPopupClose(e){e.popup===r&&a(!1)}return t.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==t.overlayContainer?(null!=n&&r.setLatLng(n),r.openOn(t.map)):t.overlayContainer.bindPopup(r),function(){t.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(r)}},[e,t,a,n])});function updateCircle(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}let y=createPathComponent(function({center:e,children:t,...n},a){let r=new m.Circle(e,n);return element_createElementObject(r,extendContext(a,{overlayContainer:r}))},updateCircle),C=createPathComponent(function({positions:e,...t},n){let a=new m.Polyline(e,t);return element_createElementObject(a,extendContext(n,{overlayContainer:a}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)});n(1374);var b=n(2031),N=n(5831);let w=0;function genId(){return(w=(w+1)%Number.MAX_SAFE_INTEGER).toString()}let O=new Map,addToRemoveQueue=e=>{if(O.has(e))return;let t=setTimeout(()=>{O.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);O.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?addToRemoveQueue(n):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},_=[],L={toasts:[]};function dispatch(e){L=reducer(L,e),_.forEach(e=>{e(L)})}function toast(e){let{...t}=e,n=genId(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:n});return dispatch({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:n,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function useToast(){let[e,t]=r.useState(L);return r.useEffect(()=>(_.push(t),()=>{let e=_.indexOf(t);e>-1&&_.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}function GeoRoutePage(){let e={lat:-6.3028,lng:106.8061,name:"Stadion GBK"},t={lat:-6.1754,lng:106.8272,name:"Monas"},[n,f]=(0,r.useState)(0),[p,m]=(0,r.useState)(0),[h,w]=(0,r.useState)([]),O=[(e.lat+t.lat)/2,(e.lng+t.lng)/2],_=(0,r.useRef)(),[L,k]=(0,r.useState)(!1),[E,D]=(0,r.useState)({device_id:"d11f3075-4e6d-45a5-a3ba-86e0e6298034",unique_name:"Alfi Maulana - Dev",area_id:"Area 1",lat:t.lat,long:t.lng,config:[{device:"relay_1",pin:1,address:32,bus:0,logic:!1},{device:"relay_1",pin:2,address:32,bus:0,logic:!0},{device:"relay_2",pin:1,address:33,bus:0,logic:!0}]}),{toast:I}=useToast();async function fetchRoute(){let n="https://router.project-osrm.org/route/v1/driving/".concat(e.lng,",").concat(e.lat,";").concat(t.lng,",").concat(t.lat,"?overview=full&geometries=geojson");try{var a;let e=await fetch(n),t=await e.json(),r=null===(a=t.routes)||void 0===a?void 0:a[0];w(r.geometry.coordinates.map(e=>[e[1],e[0]])),f(Math.round(r.distance)),m(Math.round(r.duration))}catch(e){console.error(e),I({variant:"destructive",title:"Failed to load route"})}}let R=n<1e3?"".concat(n," M"):"".concat((n/1e3).toFixed(2)," KM"),S=(()=>{let e=Math.floor(p/3600),t=Math.floor(p%3600/60),n=p%60;return e?"".concat(e,"h ").concat(t,"m ").concat(n,"s"):t?"".concat(t,"m ").concat(n,"s"):"".concat(n,"s")})(),removeGeoConfig=e=>{D(t=>({...t,config:t.config.filter((t,n)=>n!==e)}))},handleGeoformChange=(e,t)=>{D(n=>({...n,[e]:t}))},handleConfigChange=(e,t,n)=>{D(a=>({...a,config:a.config.map((a,r)=>r===e?{...a,[t]:n}:a)}))};return(0,a.jsxs)(s.kV,{children:[(0,a.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s.vP,{}),(0,a.jsx)(l.Z,{orientation:"vertical",className:"h-4"}),(0,a.jsx)(c.Z,{className:"w-5 h-5 "}),(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Route & Geoâ€‘Fence"})]}),(0,a.jsx)(i.z,{size:"icon",variant:"outline",onClick:()=>fetchRoute(),children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4 max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(o.Zb,{className:"shadow-md",children:(0,a.jsxs)(o.aY,{className:"space-y-2 pt-4",children:[(0,a.jsx)("h6",{className:"text-primary font-bold",children:"Route Info"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Distance:"})," ",R]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Duration:"})," ",S]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Radius Virtual Boundaries:"})," ",1e3," m"]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>{var e;null===(e=_.current)||void 0===e||e.flyTo(O,15)},children:"Focus to Route Center"}),(0,a.jsxs)(i.z,{variant:"secondary",size:"sm",onClick:()=>k(!0),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-1"})," Config Geofencing Control"]})]})]})}),(0,a.jsx)(o.Zb,{className:"shadow-md",children:(0,a.jsxs)(o.aY,{className:"space-y-2 pt-4",children:[(0,a.jsx)("h6",{className:"text-success font-bold",children:"Location Info"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Destination:"})," ",t.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Lat:"})," ",t.lat]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Long:"})," ",t.lng]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Current Location:"})," ",e.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Lat:"})," ",e.lat]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Long:"})," ",e.lng]})]})})]}),(0,a.jsx)(o.Zb,{className:"shadow-md",children:(0,a.jsxs)(o.aY,{className:"pt-4",children:[(0,a.jsx)("h6",{className:"text-success font-bold mb-3",children:"Geofencing Output Control"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Device ID:"})," ",E.device_id]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Unique Name:"})," ",E.unique_name]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Area ID:"})," ",E.area_id]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Latitude:"})," ",E.lat]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Longitude:"})," ",E.long]})]}),(0,a.jsx)("h6",{className:"text-secondary font-bold mt-4 mb-2",children:"Device Config"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"table-auto w-full text-sm border rounded",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-blue-50",children:[(0,a.jsx)("th",{className:"px-2 py-1",children:"#"}),(0,a.jsx)("th",{className:"px-2 py-1",children:"Device"}),(0,a.jsx)("th",{className:"px-2 py-1",children:"Pin"}),(0,a.jsx)("th",{className:"px-2 py-1",children:"Address"}),(0,a.jsx)("th",{className:"px-2 py-1",children:"Bus"}),(0,a.jsx)("th",{className:"px-2 py-1",children:"Logic"})]})}),(0,a.jsx)("tbody",{children:E.config.map((e,t)=>(0,a.jsxs)("tr",{className:"even:bg-blue-50",children:[(0,a.jsx)("td",{className:"px-2 py-1",children:t+1}),(0,a.jsx)("td",{className:"px-2 py-1",children:e.device}),(0,a.jsx)("td",{className:"px-2 py-1",children:e.pin}),(0,a.jsx)("td",{className:"px-2 py-1",children:e.address}),(0,a.jsx)("td",{className:"px-2 py-1",children:e.bus}),(0,a.jsx)("td",{className:"px-2 py-1",children:e.logic?"true":"false"})]},t))})]})})]})}),(0,a.jsx)("div",{className:"rounded-2xl border shadow-sm overflow-hidden mt-3",style:{height:"500px",width:"100%"},children:(0,a.jsxs)(x,{ref:_,center:O,zoom:12,style:{height:"100%",width:"100%"},children:[(0,a.jsx)(g,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,a.jsx)(v,{position:[e.lat,e.lng],children:(0,a.jsx)(j,{children:e.name})}),(0,a.jsx)(v,{position:[t.lat,t.lng],children:(0,a.jsx)(j,{children:t.name})}),(0,a.jsx)(y,{center:[t.lat,t.lng],radius:1e3,pathOptions:{color:"green",fillOpacity:.3}}),h.length>0&&(0,a.jsx)(C,{positions:h,pathOptions:{color:"#5bc0de",weight:4}})]})}),(0,a.jsx)(b.Vq,{open:L,onOpenChange:k,children:(0,a.jsx)(b.cZ,{className:"max-w-2xl",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),I({title:"Geofence config saved!",description:JSON.stringify(E,null,2)}),k(!1)},children:[(0,a.jsx)(b.fK,{children:(0,a.jsx)(b.$N,{children:"Geofencing Configuration"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Device ID"}),(0,a.jsx)(N.I,{value:E.device_id,onChange:e=>handleGeoformChange("device_id",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Unique Name"}),(0,a.jsx)(N.I,{value:E.unique_name,onChange:e=>handleGeoformChange("unique_name",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Area ID"}),(0,a.jsx)(N.I,{value:E.area_id,onChange:e=>handleGeoformChange("area_id",e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Latitude"}),(0,a.jsx)(N.I,{value:E.lat,readOnly:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Longitude"}),(0,a.jsx)(N.I,{value:E.long,readOnly:!0})]})]}),(0,a.jsx)("h6",{className:"mt-4 mb-2 font-bold",children:"Device Config"}),E.config.map((e,t)=>(0,a.jsxs)("div",{className:"border rounded p-3 mb-3 grid grid-cols-1 md:grid-cols-6 gap-2 items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Device"}),(0,a.jsxs)("select",{className:"w-full border rounded px-2 py-1",value:e.device,onChange:e=>handleConfigChange(t,"device",e.target.value),children:[(0,a.jsx)("option",{value:"relay_1",children:"relay_1"}),(0,a.jsx)("option",{value:"relay_2",children:"relay_2"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Pin"}),(0,a.jsx)(N.I,{type:"number",value:e.pin,onChange:e=>handleConfigChange(t,"pin",Number(e.target.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Address"}),(0,a.jsx)(N.I,{type:"number",value:e.address,onChange:e=>handleConfigChange(t,"address",Number(e.target.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Bus"}),(0,a.jsx)(N.I,{type:"number",value:e.bus,onChange:e=>handleConfigChange(t,"bus",Number(e.target.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs",children:"Logic"}),(0,a.jsxs)("select",{className:"w-full border rounded px-2 py-1",value:e.logic?"true":"false",onChange:e=>handleConfigChange(t,"logic","true"===e.target.value),children:[(0,a.jsx)("option",{value:"true",children:"True"}),(0,a.jsx)("option",{value:"false",children:"False"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(i.z,{type:"button",variant:"destructive",size:"icon",onClick:()=>removeGeoConfig(t),children:[(0,a.jsx)("span",{className:"sr-only",children:"Remove"}),"\xd7"]})})]},t)),(0,a.jsx)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{D(e=>({...e,config:[...e.config,{device:"relay_1",pin:1,address:32,bus:0,logic:!1}]}))},children:"+ Add Config"}),(0,a.jsxs)(b.cN,{className:"mt-4",children:[(0,a.jsx)(i.z,{type:"submit",variant:"default",children:"Save"}),(0,a.jsx)(i.z,{type:"button",variant:"secondary",onClick:()=>k(!1),children:"Cancel"})]})]})})})]})]})}},9598:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return i}});var a=n(7437),r=n(2265),s=n(1628);let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});l.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...r})});o.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...r})});u.displayName="CardFooter"},2031:function(e,t,n){"use strict";n.d(t,{$N:function(){return p},Be:function(){return m},Vq:function(){return i},cN:function(){return DialogFooter},cZ:function(){return f},fK:function(){return DialogHeader},hg:function(){return c}});var a=n(7437),r=n(2265),s=n(8712),l=n(2549),o=n(1628);let i=s.fC,c=s.xz,d=s.h_;s.x8;let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r})});u.displayName=s.aV.displayName;let f=r.forwardRef((e,t)=>{let{className:n,children:r,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...i,children:[r,(0,a.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=s.VY.displayName;let DialogHeader=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};DialogHeader.displayName="DialogHeader";let DialogFooter=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};DialogFooter.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",n),...r})});p.displayName=s.Dx.displayName;let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...r})});m.displayName=s.dk.displayName},1374:function(){}},function(e){e.O(0,[4212,9848,5348,307,2971,2472,1744],function(){return e(e.s=2642)}),_N_E=e.O()}]);