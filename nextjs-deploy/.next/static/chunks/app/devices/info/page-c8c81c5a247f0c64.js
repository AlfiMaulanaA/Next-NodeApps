(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8341],{1392:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(5531);let r=(0,n.Z)("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},3086:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(5531);let r=(0,n.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},8799:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(5531);let r=(0,n.Z)("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]])},6714:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var n=t(5531);let r=(0,n.Z)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},6036:function(e,s,t){Promise.resolve().then(t.bind(t,2361))},2361:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ScanInfoPage}});var n=t(7437),r=t(2265),a=t(1750),i=t(9598),c=t(5217),l=t(307),d=t(1392),o=t(3086),f=t(6714),h=t(8799),u=t(3715),x=t(4829),m=t(3611);let p="http://localhost:8000";function ScanInfoPage(){let[e,s]=(0,r.useState)(null),[t,j]=(0,r.useState)([]),[g,N]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{fetchInfo()},[]);let fetchInfo=async()=>{N(!0),w(null);try{let e=await x.Z.get("".concat(p,"/api/info"));s(e.data)}catch(e){console.error("Error fetching device info:",e),w("Failed to fetch device info.")}finally{N(!1)}},scanNetwork=async()=>{v(!0),w(null);try{let e=await x.Z.get("".concat(p,"/api/scan?range=192.168.0"));j(e.data)}catch(e){console.error("Error scanning network:",e),w("Failed to scan the network.")}finally{v(!1)}};return(0,n.jsxs)(l.kV,{children:[(0,n.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.vP,{className:"-ml-1"}),(0,n.jsx)(c.Z,{orientation:"vertical",className:"h-4"}),(0,n.jsx)(d.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,n.jsx)("h1",{className:"text-lg font-semibold",children:"Devices System Info"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(m.z,{variant:"outline",size:"icon",onClick:fetchInfo,children:(0,n.jsx)(o.Z,{className:"w-4 h-4"})})})]}),(0,n.jsx)("div",{className:"p-6 space-y-4",children:(0,n.jsxs)(a.mQ,{defaultValue:"info",children:[(0,n.jsxs)(a.dr,{className:"mb-4",children:[(0,n.jsxs)(a.SP,{value:"info",children:[(0,n.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," Device Info"]}),(0,n.jsxs)(a.SP,{value:"scan",children:[(0,n.jsx)(h.Z,{className:"mr-2 h-4 w-4"})," Network Scan"]})]}),(0,n.jsx)(a.nU,{value:"info",children:(0,n.jsx)(i.Zb,{children:(0,n.jsx)(i.aY,{className:"p-4",children:g?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u.Z,{className:"animate-spin w-5 h-5"}),(0,n.jsx)("span",{children:"Loading device info..."})]}):b?(0,n.jsx)("p",{className:"text-red-600",children:b}):e?(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"MAC:"})," ",e.mac]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"IP:"})," ",e.ip]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"MQTT Host:"})," ",e.mqtthost]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Chipset:"})," ",e.chipset]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Manufacture:"})," ",e.manufacture]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Web App:"})," ",(0,n.jsx)("a",{href:e.webapp,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:e.webapp})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Short Name:"})," ",e.shortName]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Build:"})," ",e.build]})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"No information available."})})})}),(0,n.jsxs)(a.nU,{value:"scan",children:[(0,n.jsxs)("div",{className:"mb-2 flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Scan Network"}),(0,n.jsx)(m.z,{onClick:scanNetwork,disabled:y,children:y?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u.Z,{className:"animate-spin w-4 h-4"}),"Scanning..."]}):"Scan"})]}),(0,n.jsx)(c.Z,{className:"mb-4"}),b&&(0,n.jsx)("p",{className:"text-red-600 mb-2",children:b}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[0===t.length&&!y&&(0,n.jsx)("p",{className:"text-muted-foreground",children:"No devices found."}),t.map((e,s)=>(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.aY,{className:"p-4 space-y-1 text-sm",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"IP:"})," ",e.ip]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"MAC:"})," ",e.mac]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Chipset:"})," ",e.chipset]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"MQTT Host:"})," ",e.mqtthost]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Short Name:"})," ",e.shortName]})]})},s))]})]})]})})]})}},9598:function(e,s,t){"use strict";t.d(s,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return f},ll:function(){return l}});var n=t(7437),r=t(2265),a=t(1628);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...r})});c.displayName="CardHeader";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...r})});f.displayName="CardFooter"},1750:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return l},mQ:function(){return c},nU:function(){return o}});var n=t(7437),r=t(2265),a=t(7094),i=t(1628);let c=a.fC,l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});l.displayName=a.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=a.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=a.VY.displayName}},function(e){e.O(0,[9848,5348,6099,4829,307,2971,2472,1744],function(){return e(e.s=6036)}),_N_E=e.O()}]);