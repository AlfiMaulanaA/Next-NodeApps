(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4763],{3922:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]])},3086:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},8784:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},261:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);let a=(0,s.Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},7016:function(e,t,r){Promise.resolve().then(r.bind(r,6827))},6827:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return MqttPage}});var s=r(7437),a=r(2265),n=r(307),l=r(5217),i=r(9598),c=r(5831),o=r(3611),d=r(1750),u=r(708),m=r(1424),f=r(261),x=r(3715),p=r(8784),h=r(5531);let g=(0,h.Z)("plug-zap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);var y=r(3922),b=r(3086);let j=(0,h.Z)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),v=(0,h.Z)("rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),N=(0,h.Z)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);function MqttPage(){let[e,t]=(0,a.useState)(""),[r,h]=(0,a.useState)(9e3),[k,w]=(0,a.useState)("Disconnected"),[M,C]=(0,a.useState)("messages"),[Z,z]=(0,a.useState)([]),[S,A]=(0,a.useState)(new Map),[T,R]=(0,a.useState)(new Set),D=(0,a.useRef)(null);return(0,s.jsxs)(n.kV,{children:[(0,s.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.vP,{className:"-ml-1"}),(0,s.jsx)(l.Z,{orientation:"vertical",className:"mr-2 h-4"}),(0,s.jsx)(y.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Logic Control Configurations"})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(o.z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>window.location.reload(),children:(0,s.jsx)(b.Z,{})})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"text-primary flex items-center gap-2",children:[(0,s.jsx)(g,{className:"h-5 w-5"})," MQTT Manual Connect"]})}),(0,s.jsxs)(i.aY,{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Broker Host"}),(0,s.jsx)(c.I,{placeholder:"e.g. 192.168.0.100",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Port"}),(0,s.jsx)(c.I,{type:"number",placeholder:"e.g. 9000",value:r,onChange:e=>h(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex items-end gap-2",children:[(0,s.jsx)(o.z,{className:"w-full",disabled:"Connected"===k,onClick:()=>{if(!e||!r){m.Am.warning("Please enter broker host and port.");return}w("Connecting...");let t="ws://".concat(e,":").concat(r),s=new WebSocket(t);s.onopen=()=>{w("Connected"),m.Am.success("Connected to MQTT broker"),s.send(JSON.stringify({action:"subscribe",topic:"#"}))},s.onerror=()=>{w("Failed to Connect"),m.Am.error("Failed to connect to broker")},s.onclose=()=>{w("Disconnected"),m.Am.error("Disconnected from broker")},s.onmessage=e=>{try{let t=JSON.parse(e.data),r=new Date().toLocaleString(),s={topic:t.topic,payload:t.payload,timestamp:r};z(e=>[s,...e.slice(0,99)]),A(e=>new Map(e).set(t.topic,t.payload)),R(e=>new Set(e).add(t.topic))}catch(e){console.error("Message parsing error:",e)}},D.current=s},children:"Connect"}),(0,s.jsx)(o.z,{variant:"destructive",className:"w-full",disabled:"Connected"!==k,onClick:()=>{var e;(null===(e=D.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&(D.current.close(),m.Am.info("Disconnected from MQTT broker"))},children:"Disconnect"})]}),(0,s.jsxs)("div",{className:"md:col-span-3 pt-2 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"Status:"}),(0,s.jsxs)(u.C,{variant:"outline",className:"flex items-center gap-2",children:[(()=>{switch(k){case"Connected":return(0,s.jsx)(f.Z,{className:"h-4 w-4 text-green-500"});case"Connecting...":return(0,s.jsx)(x.Z,{className:"h-4 w-4 text-yellow-500 animate-spin"});case"Failed to Connect":return(0,s.jsx)(p.Z,{className:"h-4 w-4 text-red-500"});default:return(0,s.jsx)(g,{className:"h-4 w-4 text-gray-400"})}})(),k]})]})]})]}),(0,s.jsxs)(d.mQ,{value:M,onValueChange:C,className:"w-full",children:[(0,s.jsxs)(d.dr,{className:"w-full justify-start",children:[(0,s.jsxs)(d.SP,{value:"messages",children:[(0,s.jsx)(j,{className:"h-4 w-4 mr-1"})," Messages"]}),(0,s.jsxs)(d.SP,{value:"topics",children:[(0,s.jsx)(v,{className:"h-4 w-4 mr-1"})," Topics Discovery"]}),(0,s.jsxs)(d.SP,{value:"allTopics",children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-1"})," All Topics"]})]}),(0,s.jsx)(d.nU,{value:"messages",children:(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(j,{className:"h-5 w-5"})," Received Messages"]})}),(0,s.jsx)(i.aY,{className:"max-h-[450px] overflow-y-auto",children:0===Z.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"No messages received yet."}):(0,s.jsx)("ul",{className:"space-y-3",children:Z.map((e,t)=>(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-primary flex justify-between",children:[(0,s.jsx)("span",{children:e.topic}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timestamp})]}),(0,s.jsx)("div",{className:"font-mono text-sm text-muted-foreground",children:e.payload})]},t))})})]})}),(0,s.jsx)(d.nU,{value:"topics",children:(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-5 w-5"})," Discovered Topics"]})}),(0,s.jsx)(i.aY,{className:"max-h-[450px] overflow-y-auto",children:0===S.size?(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"No topics discovered yet."}):(0,s.jsx)("ul",{className:"space-y-2",children:Array.from(S.entries()).map((e,t)=>{let[r,a]=e;return(0,s.jsxs)("li",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:r}),(0,s.jsx)("span",{className:"font-mono text-xs text-muted-foreground",children:a})]},t)})})})]})}),(0,s.jsx)(d.nU,{value:"allTopics",children:(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(N,{className:"h-5 w-5"})," All Received Topics"]})}),(0,s.jsx)(i.aY,{className:"max-h-[450px] overflow-y-auto",children:0===T.size?(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"No topics received yet."}):(0,s.jsx)("ul",{className:"space-y-1 text-sm",children:Array.from(T).map((e,t)=>(0,s.jsxs)("li",{children:[t+1,". ",(0,s.jsx)("span",{className:"font-medium",children:e})]},t))})})]})})]})]})]})}},708:function(e,t,r){"use strict";r.d(t,{C:function(){return Badge}});var s=r(7437);r(2265);var a=r(6061),n=r(1628);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-400 text-yellow-900 hover:bg-yellow-500",outline:"bg-transparent border-foreground text-foreground",outlineInfo:"bg-transparent border-blue-500 text-blue-600",outlineSuccess:"bg-transparent border-green-500 text-green-600",outlineWarning:"bg-transparent border-yellow-400 text-yellow-700",outlineDestructive:"bg-transparent border-destructive text-destructive",gradientInfo:"border-0 bg-gradient-to-r from-blue-400/50 to-blue-600/50 text-blue-900",gradientSuccess:"border-0 bg-gradient-to-r from-green-400/50 to-green-600/50 text-green-900",gradientWarning:"border-0 bg-gradient-to-r from-yellow-300/50 to-yellow-500/50 text-yellow-900",gradientDestructive:"border-0 bg-gradient-to-r from-red-400/50 to-red-600/50 text-red-900"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},9598:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var s=r(7437),a=r(2265),n=r(1628);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},1750:function(e,t,r){"use strict";r.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return i},nU:function(){return d}});var s=r(7437),a=r(2265),n=r(7094),l=r(1628);let i=n.fC,c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});c.displayName=n.aV.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});o.displayName=n.xz.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=n.VY.displayName}},function(e){e.O(0,[9848,5348,1424,6099,307,2971,2472,1744],function(){return e(e.s=7016)}),_N_E=e.O()}]);