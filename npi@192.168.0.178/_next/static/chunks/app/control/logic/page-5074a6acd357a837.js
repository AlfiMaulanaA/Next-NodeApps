(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1792],{4248:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},469:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},3715:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4136:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},3086:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},5367:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);let r=(0,a.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3930:function(e,t,s){Promise.resolve().then(s.bind(s,1592))},1592:function(e,t,s){"use strict";s.r(t);var a=s(7437),r=s(2265),n=s(6820),l=s.n(n),i=s(225),c=s(5344),d=s(2031),o=s(5831),u=s(3611),m=s(7532),h=s(6005),x=s(1465),y=s(453),p=s(307),g=s(5217),v=s(469),f=s(3086),j=s(4136),b=s(5367),N=s(4248),w=s(6577);t.default=()=>{let[e,t]=(0,r.useState)("Disconnected"),[s,n]=(0,r.useState)([]),[_,C]=(0,r.useState)([]),[k,R]=(0,r.useState)([]),[S,D]=(0,r.useState)(!1),[T,M]=(0,r.useState)(!1),[E,I]=(0,r.useState)(null),Z={drycontact:{address:"",bus:"",pin:"",expected_value:1,customName:"",control_relays:[]}},[A,P]=(0,r.useState)(Z),V={address:"",bus:"",pin:"",set_value:1,selectedRelayDevice:"",customName:"",control_type:"auto",delay:0,latching_mode:!1,id:(0,i.Z)()},[F,L]=(0,r.useState)([V]),[z,O]=(0,r.useState)(""),Q="command_installed_device",U="response_installed_device",q="command_control_drycontact",B="response_control_drycontact",Y="response_get_data",J="service/command",W="service/response",H=(0,r.useCallback)((e,t)=>{let s=(0,c.Oh)();s&&s.connected?s.publish(t,JSON.stringify(e),e=>{e&&(console.error("Failed to publish message to ".concat(t,":"),e),l().fire({icon:"error",title:"Publish Error",text:"Failed to send command: ".concat(e.message)}))}):(console.error("MQTT client not connected for publishing."),l().fire({icon:"error",title:"MQTT Disconnected",text:"Cannot send command, MQTT client is not connected."}))},[]),$=(0,r.useCallback)(()=>{H({action:"get"},q)},[H,q]),K=(0,r.useCallback)(()=>{H("read_device",Q)},[H,Q]);(0,r.useEffect)(()=>{let e=null;try{(e=(0,c.kS)()).on("connect",()=>{console.log("Connected to MQTT Broker"),t("Connected"),e.subscribe(W,{qos:0}),e.subscribe(B),e.subscribe(U),e.subscribe(Y),$()}),e.on("error",e=>{console.error("MQTT Error:",e.message),t("Error: "+e.message)}),e.on("close",()=>{console.log("MQTT Connection closed"),t("Disconnected")}),e.on("message",(e,t)=>{console.log("Message arrived:",t.toString());try{let a=JSON.parse(t.toString());if(e===U){let e=a.data.filter(e=>"DRYCONTACT"===e.profile.part_number).map(e=>({name:e.profile.name,address:e.protocol_setting.address,bus:e.protocol_setting.device_bus}));C(e);let t=a.data.filter(e=>e.profile.part_number.startsWith("RELAY")).map(e=>({name:e.profile.name,address:e.protocol_setting.address,bus:e.protocol_setting.device_bus}));R(t)}else if(e===B)"success"===a.status?l().fire({icon:"success",title:"Success",text:a.message}).then(()=>{$(),X()}):l().fire({icon:"error",title:"Error",text:a.message});else if(e===Y){var s;n((null===(s=a.data)||void 0===s?void 0:s.read_data)||[])}else e===W&&("success"===a.result?l().fire({icon:"success",title:"Service Restarted",text:a.message||"Services restarted successfully."}):l().fire({icon:"error",title:"Service Error",text:a.message||"Failed to restart services."}))}catch(e){console.error("Error parsing MQTT message:",e),l().fire({icon:"error",title:"Parsing Error",text:"An error occurred while processing the response."})}})}catch(e){console.error("Error connecting MQTT:",e.message),t("Connection failed: "+e.message)}return()=>{e&&(e.removeAllListeners("connect"),e.removeAllListeners("error"),e.removeAllListeners("close"),e.removeAllListeners("message"))}},[$,H,B,U,Y,W]);let X=(0,r.useCallback)(()=>{let e=JSON.stringify({action:"restart",services:["modular_i2c.service","drycontact_control.service"]});H(e,J),l().fire({title:"Restarting Services",text:"Please wait while the services are being restarted...",icon:"info",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{l().showLoading()}})},[H,J]),openModal=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(K(),e){var t,s;M(!0),I(e.id);let a=JSON.parse(JSON.stringify(e));P(a);let r=((null===(t=a.drycontact)||void 0===t?void 0:t.control_relays)||[]).map(e=>{var t;return{...e,selectedRelayDevice:(null===(t=k.find(t=>t.address===e.address&&t.bus===e.bus))||void 0===t?void 0:t.name)||"",id:e.id||(0,i.Z)()}});L(r.length>0?r:[V]),O((null===(s=_.find(e=>e.address===a.drycontact.address&&e.bus===a.drycontact.bus))||void 0===s?void 0:s.name)||"")}else M(!1),I(null),P(Z),L([V]),O("");D(!0)},handleRelayDeviceChange=(e,t)=>{let s=[...F];s[e].selectedRelayDevice=t;let a=k.find(e=>e.name===t);a?(s[e].address=a.address,s[e].bus=a.bus):(s[e].address="",s[e].bus=""),L(s)},removeRelay=e=>{L(t=>t.filter(t=>t.id!==e))},handleRelayInputChange=(e,t,s)=>{L(a=>a.map(a=>a.id===e?{...a,[t]:s}:a))},deleteConfig=e=>{l().fire({title:"Are you sure?",text:"Do you want to delete this configuration? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(t=>{t.isConfirmed?(H({command:"delete",data:{id:e}},q),n(t=>t.filter(t=>t.id!==e))):t.dismiss===l().DismissReason.cancel&&l().fire({title:"Cancelled",text:"Your configuration is safe.",icon:"error"})})};return(0,a.jsxs)(p.kV,{children:[(0,a.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.vP,{className:"-ml-1"}),(0,a.jsx)(g.Z,{orientation:"vertical",className:"mr-2 h-4"}),(0,a.jsx)(v.Z,{className:"h-5 w-5"}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-800",children:"Logic Control Configurations"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)(u.z,{variant:"outline",size:"icon",className:"h-8 w-8 text-gray-600 hover:text-gray-900",onClick:$,title:"Refresh Data",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})}),(0,a.jsx)(u.z,{size:"sm",variant:"default",onClick:()=>openModal(),children:" Add New Config"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsxs)("div",{className:"mb-4 bg-white p-6 rounded-lg shadow-sm",children:[(0,a.jsx)("h5",{className:"text-xl font-bold text-gray-700 mb-4",children:"Dry Contact Data Table"}),s.length>0?(0,a.jsx)("div",{className:"rounded-md border overflow-x-auto",children:(0,a.jsxs)(h.iA,{children:[(0,a.jsx)(h.xD,{children:(0,a.jsxs)(h.SC,{children:[(0,a.jsx)(h.ss,{className:"w-[50px]",children:"ID"}),(0,a.jsx)(h.ss,{className:"min-w-[150px]",children:"Input Name"}),(0,a.jsx)(h.ss,{className:"min-w-[100px]",children:"Address"}),(0,a.jsx)(h.ss,{className:"min-w-[60px]",children:"Bus"}),(0,a.jsx)(h.ss,{className:"min-w-[60px]",children:"Pin"}),(0,a.jsx)(h.ss,{className:"min-w-[60px]",children:"Expected Value"}),(0,a.jsx)(h.ss,{className:"min-w-[400px]",children:"Control Relays"}),(0,a.jsx)(h.ss,{className:"min-w-[150px]",children:"Actions"})]})}),(0,a.jsx)(h.RM,{children:s.map((e,t)=>{var s,r,n,l,i,c,d;return(0,a.jsxs)(h.SC,{className:"hover:bg-gray-50",children:[(0,a.jsx)(h.pj,{className:"font-medium",children:t+1}),(0,a.jsx)(h.pj,{children:(null===(s=e.drycontact)||void 0===s?void 0:s.customName)||"N/A"}),(0,a.jsx)(h.pj,{children:(null===(r=e.drycontact)||void 0===r?void 0:r.address)||"N/A"}),(0,a.jsx)(h.pj,{children:null===(n=e.drycontact)||void 0===n?void 0:n.bus}),(0,a.jsx)(h.pj,{children:(null===(l=e.drycontact)||void 0===l?void 0:l.pin)||"N/A"}),(0,a.jsx)(h.pj,{children:(0,a.jsx)("span",{className:(null===(i=e.drycontact)||void 0===i?void 0:i.expected_value)?"text-green-600 font-semibold bg-green-100 py-1 px-2 rounded-full text-sm":"text-red-600 font-semibold bg-red-100 py-1 px-2 rounded-full text-sm",children:(null===(c=e.drycontact)||void 0===c?void 0:c.expected_value)?"TRUE":"FALSE"})}),(0,a.jsx)(h.pj,{children:(null===(d=e.drycontact)||void 0===d?void 0:d.control_relays)&&e.drycontact.control_relays.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[" ",e.drycontact.control_relays.map((e,t)=>(0,a.jsx)("div",{className:"p-3 border border-gray-200 rounded-md bg-white shadow-xs text-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[" ",(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Custom Name:"}),(0,a.jsx)("div",{children:e.customName||"N/A"}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Control Type:"}),(0,a.jsx)("div",{className:"capitalize",children:e.control_type}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Address:"}),(0,a.jsx)("div",{children:e.address}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Pin:"}),(0,a.jsx)("div",{children:e.pin}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Set Value:"}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:e.set_value?"text-green-600 font-semibold bg-green-100 py-1 px-2 rounded-full text-sm":"text-red-600 font-semibold bg-red-100 py-1 px-2 rounded-full text-sm",children:e.set_value?"TRUE":"FALSE"})}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Delay (s):"}),(0,a.jsx)("div",{children:e.delay}),(0,a.jsx)("div",{className:"font-semibold text-gray-700",children:"Latching:"}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:e.latching_mode?"text-green-600 font-semibold bg-green-100 py-1 px-2 rounded-full text-sm":"text-red-600 font-semibold bg-red-100 py-1 px-2 rounded-full text-sm",children:e.latching_mode?"Yes":"No"})})]})},e.id||t))]}):(0,a.jsx)("span",{className:"text-gray-500 italic",children:"No relays configured."})}),(0,a.jsx)(h.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(u.z,{size:"sm",variant:"outline",onClick:()=>openModal(e),className:"w-full justify-start text-orange-600 hover:bg-orange-50/50",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 mr-2"})," Edit"]}),(0,a.jsxs)(u.z,{size:"sm",variant:"destructive",onClick:()=>deleteConfig(e.id),className:"w-full justify-start",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})})]},e.id)})})]})}):(0,a.jsxs)("div",{className:"text-center py-8 border rounded-md bg-gray-50",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg mb-4",children:"No logic control configurations found. \uD83D\uDE14"}),(0,a.jsxs)(u.z,{variant:"outline",onClick:$,className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"})," Refresh Data"]})]})]})}),(0,a.jsx)(d.Vq,{open:S,onOpenChange:D,children:(0,a.jsxs)(d.cZ,{className:"max-w-md md:max-w-3xl overflow-y-auto max-h-[90vh]",children:[(0,a.jsx)(d.fK,{children:(0,a.jsx)(d.$N,{className:"text-2xl font-bold text-gray-800",children:T?"Edit Configuration":"Add New Configuration"})}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t={...A,drycontact:{...A.drycontact,control_relays:F.map(e=>({address:e.address,bus:e.bus,pin:e.pin,set_value:e.set_value,customName:e.customName,control_type:e.control_type,delay:e.delay,latching_mode:e.latching_mode}))}},s=T?{...t,id:E}:t;H({command:T?"update":"create",data:s},q),D(!1)},children:[(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsx)("h6",{className:"font-bold text-lg text-gray-700 border-b pb-2 mb-4",children:"Dry Contact Data"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"customName",className:"text-gray-600",children:"Custom Name"}),(0,a.jsx)(o.I,{id:"customName",value:A.drycontact.customName,onChange:e=>P(t=>({...t,drycontact:{...t.drycontact,customName:e.target.value}})),placeholder:"e.g., Main Door Sensor",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"deviceName",className:"text-gray-600",children:"Device Name"}),(0,a.jsxs)(m.Ph,{value:z,onValueChange:e=>{O(e);let t=_.find(t=>t.name===e);t?P(e=>({...e,drycontact:{...e.drycontact,address:t.address,bus:t.bus}})):P(e=>({...e,drycontact:{...e.drycontact,address:"",bus:""}}))},required:!0,children:[(0,a.jsx)(m.i4,{className:"w-full",children:(0,a.jsx)(m.ki,{placeholder:"Select a dry contact device"})}),(0,a.jsx)(m.Bw,{children:_.map(e=>(0,a.jsx)(m.Ql,{value:e.name,children:e.name},e.name))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"pin",className:"text-gray-600",children:"Pin"}),(0,a.jsx)(o.I,{id:"pin",type:"number",value:A.drycontact.pin,onChange:e=>P(t=>({...t,drycontact:{...t.drycontact,pin:parseInt(e.target.value)}})),placeholder:"e.g., 1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"expectedValue",className:"text-gray-600",children:"Expected Value"}),(0,a.jsxs)(m.Ph,{value:String(A.drycontact.expected_value),onValueChange:e=>P(t=>({...t,drycontact:{...t.drycontact,expected_value:parseInt(e)}})),required:!0,children:[(0,a.jsx)(m.i4,{className:"w-full",children:(0,a.jsx)(m.ki,{placeholder:"Select expected value"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"1",children:"True (Input Triggered)"}),(0,a.jsx)(m.Ql,{value:"0",children:"False (Input Not Triggered)"})]})]})]})]}),(0,a.jsx)(g.Z,{className:"my-4 border-dashed"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h6",{className:"font-bold text-lg text-gray-700 border-b pb-2 mb-4",children:"Control Relays"}),F.map((e,t)=>(0,a.jsxs)("div",{className:"p-5 border border-gray-200 rounded-lg shadow-sm bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h6",{className:"font-semibold text-md text-gray-700",children:["Control Relay - ",(0,a.jsx)("span",{className:"text-blue-600",children:t+1})]}),(0,a.jsxs)(u.z,{type:"button",variant:"destructive",size:"sm",onClick:()=>removeRelay(e.id),children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"})," Remove Relay"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"relayCustomName-".concat(e.id),className:"text-gray-600",children:"Relay Custom Name"}),(0,a.jsx)(o.I,{id:"relayCustomName-".concat(e.id),value:e.customName,onChange:t=>handleRelayInputChange(e.id,"customName",t.target.value),placeholder:"e.g., Living Room Light",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"relayDeviceName-".concat(e.id),className:"text-gray-600",children:"Relay Device Name"}),(0,a.jsxs)(m.Ph,{value:e.selectedRelayDevice,onValueChange:e=>handleRelayDeviceChange(t,e),required:!0,children:[(0,a.jsx)(m.i4,{className:"w-full",children:(0,a.jsx)(m.ki,{placeholder:"Select a relay device"})}),(0,a.jsx)(m.Bw,{children:k.map(e=>(0,a.jsx)(m.Ql,{value:e.name,children:e.name},e.name))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"controlRelayPin-".concat(e.id),className:"text-gray-600",children:"Relay Pin"}),(0,a.jsx)(o.I,{id:"controlRelayPin-".concat(e.id),type:"number",value:e.pin,onChange:t=>handleRelayInputChange(e.id,"pin",parseInt(t.target.value)),placeholder:"e.g., 0",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"controlRelayValue-".concat(e.id),className:"text-gray-600",children:"Set Value"}),(0,a.jsxs)(m.Ph,{value:String(e.set_value),onValueChange:t=>handleRelayInputChange(e.id,"set_value",parseInt(t)),required:!0,children:[(0,a.jsx)(m.i4,{className:"w-full",children:(0,a.jsx)(m.ki,{placeholder:"Select set value"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"1",children:"True (Relay ON)"}),(0,a.jsx)(m.Ql,{value:"0",children:"False (Relay OFF)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"controlType-".concat(e.id),className:"text-gray-600",children:"Control Type"}),(0,a.jsxs)(m.Ph,{value:e.control_type,onValueChange:t=>handleRelayInputChange(e.id,"control_type",t),required:!0,children:[(0,a.jsx)(m.i4,{className:"w-full",children:(0,a.jsx)(m.ki,{placeholder:"Select control type"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"auto",children:"Auto (Immediate)"}),(0,a.jsx)(m.Ql,{value:"delay",children:"Delay (With Delay)"})]})]})]}),"delay"===e.control_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)(x._,{htmlFor:"delay-".concat(e.id),className:"text-gray-600",children:"Delay (seconds)"}),(0,a.jsx)(o.I,{id:"delay-".concat(e.id),type:"number",value:e.delay,onChange:t=>handleRelayInputChange(e.id,"delay",parseInt(t.target.value)),placeholder:"e.g., 5",required:!0})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-4",children:[(0,a.jsx)(x._,{htmlFor:"latchingMode-".concat(e.id),className:"text-gray-700 text-sm font-medium",children:"Latching Mode"}),(0,a.jsx)(y.r,{id:"latchingMode-".concat(e.id),checked:e.latching_mode,onCheckedChange:t=>handleRelayInputChange(e.id,"latching_mode",t)}),(0,a.jsx)("span",{className:e.latching_mode?"text-green-600 font-semibold":"text-red-600 font-semibold",children:e.latching_mode?"Yes":"No"})]}),t<F.length-1&&(0,a.jsx)(g.Z,{className:"my-6 border-dashed"})]},e.id))]})]}),(0,a.jsxs)(d.cN,{className:"mt-8 pt-4 border-t border-gray-200",children:[(0,a.jsxs)(u.z,{type:"button",variant:"secondary",onClick:()=>{L(e=>[...e,{...V,id:(0,i.Z)()}])},className:"mr-auto bg-gray-200 hover:bg-gray-300 text-gray-800",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"})," Add Relay"]}),(0,a.jsx)(u.z,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:T?"Update Configuration":"Add Configuration"})]})]})]})})]})}},6743:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a=s(2265),r=s(9790),n=s(7437),l=a.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{let s=t.target;s.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},2376:function(e,t,s){"use strict";s.d(t,{bU:function(){return N},fC:function(){return b}});var a=s(2265),r=s(5744),n=s(2210),l=s(6989),i=s(3763),c=s(5184),d=s(4977),o=s(9790),u=s(7437),m="Switch",[h,x]=(0,l.b)(m),[y,p]=h(m),g=a.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:c,defaultChecked:d,required:h,disabled:x,value:p="on",onCheckedChange:g,form:v,...f}=e,[b,N]=a.useState(null),w=(0,n.e)(t,e=>N(e)),_=a.useRef(!1),C=!b||v||!!b.closest("form"),[k,R]=(0,i.T)({prop:c,defaultProp:d??!1,onChange:g,caller:m});return(0,u.jsxs)(y,{scope:s,checked:k,disabled:x,children:[(0,u.jsx)(o.WV.button,{type:"button",role:"switch","aria-checked":k,"aria-required":h,"data-state":getState(k),"data-disabled":x?"":void 0,disabled:x,value:p,...f,ref:w,onClick:(0,r.M)(e.onClick,e=>{R(e=>!e),C&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),C&&(0,u.jsx)(j,{control:b,bubbles:!_.current,name:l,value:p,checked:k,required:h,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});g.displayName=m;var v="SwitchThumb",f=a.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,r=p(v,s);return(0,u.jsx)(o.WV.span,{"data-state":getState(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})});f.displayName=v;var j=a.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...l},i)=>{let o=a.useRef(null),m=(0,n.e)(o,i),h=(0,c.D)(s),x=(0,d.t)(t);return a.useEffect(()=>{let e=o.current;if(!e)return;let t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked"),n=a.set;if(h!==s&&n){let t=new Event("click",{bubbles:r});n.call(e,s),e.dispatchEvent(t)}},[h,s,r]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:m,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function getState(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var b=g,N=f},225:function(e,t,s){"use strict";let a;s.d(t,{Z:function(){return esm_browser_v4}});let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var n={randomUUID:r};let l=new Uint8Array(16);function rng(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(l)}let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}var esm_browser_v4=function(e,t,s){if(n.randomUUID&&!t&&!e)return n.randomUUID();e=e||{};let a=e.random??e.rng?.()??rng();if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=a[e];return t}return unsafeStringify(a)}}},function(e){e.O(0,[2793,9461,9848,5348,2995,307,7742,2971,2472,1744],function(){return e(e.s=3930)}),_N_E=e.O()}]);