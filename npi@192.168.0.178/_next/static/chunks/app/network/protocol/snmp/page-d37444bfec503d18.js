(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9366],{4280:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5531);let a=(0,r.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6245:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5531);let a=(0,r.Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5505:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5531);let a=(0,r.Z)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},261:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(5531);let a=(0,r.Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},7908:function(e,n,t){Promise.resolve().then(t.bind(t,3061))},3061:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return SNMPSettingPage}});var r=t(7437),a=t(2265),s=t(1424),o=t(7532),i=t(9598),c=t(6820),l=t.n(c),d=t(5831),u=t(3611),m=t(1465),f=t(5217),p=t(307),g=t(5505),h=t(3715),x=t(4280),b=t(261),N=t(6245),v=t(5344),y=t(6577);let w="IOT/Containment/snmp/setting/command",S="IOT/Containment/snmp/setting/data",j="IOT/Containment/snmp/status",C="service/response";function SNMPSettingPage(){let[e,n]=(0,a.useState)({snmpIPaddress:"",snmpNetmask:"",snmpGateway:"",snmpVersion:"3",authKey:"",privKey:"",securityName:"",securityLevel:"authPriv",snmpCommunity:"",snmpPort:"161",sysOID:"",DeviceName:"",Site:"",snmpTrapEnabled:!0,ipSnmpManager:"",portSnmpManager:"162",snmpTrapComunity:"",snmpTrapVersion:"2",timeDelaySnmpTrap:"30"}),[t,c]=(0,a.useState)("Unknown"),[T,M]=(0,a.useState)(!0),[P,k]=(0,a.useState)(!1),A=(0,a.useRef)(null),isValidIP=e=>""===e||/^(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}$/.test(e),isValidNetmask=e=>{if(""===e)return!0;let n=e.split(".").map(Number);return!(4!==n.length||n.some(e=>e<0||e>255))&&["255.255.255.255","255.255.255.254","255.255.255.252","255.255.255.248","255.255.255.240","255.255.255.224","255.255.255.192","255.255.255.128","255.255.255.0","255.255.254.0","255.255.252.0","255.255.248.0","255.255.240.0","255.255.224.0","255.255.192.0","255.255.128.0","255.255.0.0","255.254.0.0","255.252.0.0","255.248.0.0","255.240.0.0","255.224.0.0","255.192.0.0","255.128.0.0","255.0.0.0","0.0.0.0"].includes(e)},I=(0,a.useCallback)(async(e,n,t)=>{if(!A.current||!A.current.connected)return s.Am.error("MQTT not connected. Please wait for connection or refresh."),!1;let r=!0;if(t){let e=await l().fire({title:"Are you sure?",text:t,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, proceed!"});e.isConfirmed||(r=!1,s.Am.info("Action cancelled."))}if(r){let t=JSON.stringify({services:[e],action:n});A.current.publish("service/command",t,t=>{t?(s.Am.error("Failed to send command: ".concat(t.message)),console.error("Publish error:",t),k(!1)):s.Am.loading("".concat(n.toUpperCase()," ").concat(e," initiated..."),{id:"serviceCommand"})})}return r},[]),Z=(0,a.useCallback)(()=>{let e=(0,v.Oh)();if(!e||!e.connected){s.Am.warning("MQTT not connected. Cannot retrieve SNMP settings."),M(!1);return}M(!0),setTimeout(()=>{e.publish(w,JSON.stringify({command:"read"}),{},e=>{e?(s.Am.error("Failed to request config: ".concat(e.message)),console.error("Publish error (read command):",e),M(!1)):s.Am.info("Requesting SNMP settings...")})},300)},[]),D=(0,a.useCallback)(()=>{let e=(0,v.Oh)();if(!e||!e.connected){s.Am.warning("MQTT not connected. Cannot check SNMP status.");return}e.publish("IOT/Containment/snmp/status/command",JSON.stringify({command:"check status"}),{},e=>{e?(s.Am.error("Failed to request status: ".concat(e.message)),console.error("Publish error (check status command):",e)):s.Am.info("Checking SNMP service status...")})},[]);(0,a.useEffect)(()=>{let e=(0,v.kS)();A.current=e;let t=[S,j,C];t.forEach(n=>{e.subscribe(n,e=>{e&&console.error("Failed to subscribe to ".concat(n,":"),e)})}),e.connected&&(Z(),D());let handleConnect=()=>{t.forEach(n=>{e.subscribe(n,e=>{e&&console.error("Failed to re-subscribe to ".concat(n," on reconnect:"),e)})}),Z(),D(),s.Am.success("MQTT Connected for SNMP settings. Fetching data...")},handleMessage=(e,t)=>{try{let r=JSON.parse(t.toString());if(console.log("Received message on topic ".concat(e,":"),r),e===S){let e={snmpIPaddress:r.snmpIPaddress||"",snmpNetmask:r.snmpNetmask||"",snmpGateway:r.snmpGateway||"",snmpVersion:String(r.snmpVersion||"3"),authKey:r.authKey||"",privKey:r.privKey||"",securityName:r.securityName||"",securityLevel:String(r.securityLevel||"authPriv"),snmpCommunity:r.snmpCommunity||"",snmpPort:String(r.snmpPort||"161"),sysOID:r.sysOID||"",DeviceName:r.DeviceName||"",Site:r.Site||"",snmpTrapEnabled:"boolean"!=typeof r.snmpTrapEnabled||r.snmpTrapEnabled,ipSnmpManager:r.ipSnmpManager||"",portSnmpManager:String(r.portSnmpManager||"162"),snmpTrapComunity:r.snmpTrapComunity||"",snmpTrapVersion:String(r.snmpTrapVersion||"2"),timeDelaySnmpTrap:String(r.timeDelaySnmpTrap||"30")};n(e),s.Am.success("SNMP settings loaded! \uD83C\uDF89"),M(!1)}else e===j?(c(r.snmpStatus||"Unknown"),s.Am.info("SNMP Status: ".concat(r.snmpStatus||"Unknown"))):e===C&&(s.Am.dismiss("serviceCommand"),k(!1),"success"===r.result?(l().fire({position:"top-end",icon:"success",title:r.message||"Service command executed successfully!",showConfirmButton:!1,timer:3e3,toast:!0}),"restart"===r.action&&Array.isArray(r.services)&&r.services.includes("protocol_out.service")&&D()):l().fire({position:"top-end",icon:"error",title:r.message||"Failed to execute service command.",showConfirmButton:!1,timer:3e3,toast:!0}))}catch(e){s.Am.error("Invalid response from MQTT. Check backend payload."),console.error("Error parsing MQTT message:",t.toString(),e),M(!1),k(!1)}};return e.on("connect",handleConnect),e.on("message",handleMessage),e.on("error",e=>{console.error("MQTT Client error:",e),s.Am.error("MQTT connection error: ".concat(e.message)),M(!1),k(!1)}),()=>{A.current&&(t.forEach(e=>{var n;null===(n=A.current)||void 0===n||n.unsubscribe(e)}),A.current.off("connect",handleConnect),A.current.off("message",handleMessage),A.current.off("error",()=>{}))}},[Z,D,I]);let handleChange=e=>{let{name:t,value:r,type:a,checked:s}=e.target;n(e=>({...e,[t]:"checkbox"===a?s:r}))},handleSelectChange=(e,t)=>{"snmpTrapEnabled"===e?n(n=>({...n,[e]:"true"===t})):n(n=>({...n,[e]:t}))},writeConfig=async()=>{let n=(0,v.Oh)();if(!n||!n.connected){s.Am.error("MQTT client not connected. Cannot save configuration. \uD83D\uDE14");return}if(""!==e.snmpIPaddress&&!isValidIP(e.snmpIPaddress)){s.Am.error("Invalid SNMP IP Address format.");return}if(""!==e.snmpNetmask&&!isValidNetmask(e.snmpNetmask)){s.Am.error("Invalid SNMP Netmask format.");return}if(""!==e.snmpGateway&&!isValidIP(e.snmpGateway)){s.Am.error("Invalid SNMP Gateway IP Address format.");return}if(""!==e.ipSnmpManager&&!isValidIP(e.ipSnmpManager)){s.Am.error("Invalid SNMP Manager IP Address format.");return}let t=parseInt(e.snmpPort,10),r=parseInt(e.portSnmpManager,10),a=parseInt(e.timeDelaySnmpTrap,10);if(isNaN(t)||t<=0||t>65535){s.Am.error("Invalid SNMP Port. Must be between 1 and 65535.");return}if(isNaN(r)||r<=0||r>65535){s.Am.error("Invalid SNMP Trap Manager Port. Must be between 1 and 65535.");return}if(isNaN(a)||a<=0){s.Am.error("Invalid Time Delay for SNMP Trap. Must be a positive number.");return}let o={command:"write",...e,snmpPort:t,portSnmpManager:r,timeDelaySnmpTrap:a};k(!0),s.Am.loading("Sending configuration...",{id:"snmpConfigSave"}),n.publish(w,JSON.stringify(o),{},async e=>{if(e)s.Am.dismiss("snmpConfigSave"),s.Am.error("Failed to send write command: ".concat(e.message," \uD83D\uDE2D")),k(!1);else{s.Am.success("SNMP configuration sent to device.",{id:"snmpConfigSave"});let e=await I("protocol_out.service","restart","SNMP settings updated. Do you want to restart the SNMP service to apply changes?");e||k(!1)}})};return(0,r.jsxs)(p.kV,{children:[(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.vP,{className:"-ml-1"}),(0,r.jsx)(f.Z,{orientation:"vertical",className:"h-4"}),(0,r.jsx)(g.Z,{className:"w-5 h-5 text-primary"}),(0,r.jsx)("h1",{className:"text-lg font-semibold tracking-tight",children:"SNMP Communication"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(y.Z,{}),(0,r.jsxs)(u.z,{variant:"outline",size:"sm",onClick:Z,disabled:T||P,children:[T?(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-1 animate-spin"}):(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-1"})," Get Config"]}),(0,r.jsxs)(u.z,{variant:"outline",size:"sm",onClick:D,disabled:T||P,children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 mr-1"})," Check Status"]})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)(i.Zb,{className:"mb-4",children:[" ",(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{className:"text-md",children:"SNMP Service Status"})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Current Status: ",(0,r.jsx)("strong",{className:"RUNNING"===t?"text-green-600":"text-red-600",children:t})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{className:"text-md",children:"SNMP Configuration Details"})}),(0,r.jsxs)(i.aY,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[T&&(0,r.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center py-8",children:[(0,r.jsx)(h.Z,{className:"w-8 h-8 animate-spin text-blue-500 mb-3"}),(0,r.jsx)("span",{className:"text-lg text-blue-500",children:"Loading SNMP Settings..."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Please ensure MQTT is connected and backend is running."})]}),!T&&Object.entries(e).map(e=>{let[n,t]=e,a=n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),s=["snmpIPaddress","snmpGateway","ipSnmpManager"].includes(n),i="snmpNetmask"===n,c=s&&""!==t&&!isValidIP(String(t)),l=i&&""!==t&&!isValidNetmask(String(t));if(["snmpVersion","securityLevel","snmpTrapVersion","snmpTrapEnabled"].includes(n)){let e=[];return"snmpVersion"===n?e=[{value:"1",label:"1"},{value:"2c",label:"2c"},{value:"3",label:"3"}]:"securityLevel"===n?e=[{value:"noAuthNoPriv",label:"No Auth, No Priv"},{value:"authNoPriv",label:"Auth, No Priv"},{value:"authPriv",label:"Auth, Priv"}]:"snmpTrapVersion"===n?e=[{value:"1",label:"1"},{value:"2c",label:"2c"}]:"snmpTrapEnabled"===n&&(e=[{value:"true",label:"Enabled"},{value:"false",label:"Disabled"}]),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(m._,{htmlFor:n,children:a}),(0,r.jsxs)(o.Ph,{value:String(t),onValueChange:e=>handleSelectChange(n,e),disabled:P,children:[(0,r.jsx)(o.i4,{children:(0,r.jsx)(o.ki,{placeholder:"Select ".concat(a)})}),(0,r.jsx)(o.Bw,{children:e.map(e=>(0,r.jsx)(o.Ql,{value:e.value,children:e.label},e.value))})]})]},n)}return(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(m._,{htmlFor:n,children:a}),(0,r.jsx)(d.I,{id:n,name:n,type:"number"==typeof t?"number":"text",value:String(t),onChange:handleChange,className:c||l?"border-red-500 focus-visible:ring-red-500":"",disabled:P}),c&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Invalid IP Address format (e.g., 192.168.1.1)."}),l&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Invalid Netmask format (e.g., 255.255.255.0)."})]},n)}),!T&&(0,r.jsx)("div",{className:"col-span-full",children:(0,r.jsxs)(u.z,{className:"w-full",onClick:writeConfig,disabled:P,children:[P?(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,r.jsx)(N.Z,{className:"w-4 h-4 mr-2"})," Save Config"]})})]})]})]})]})}},6577:function(e,n,t){"use strict";t.d(n,{Z:function(){return MQTTConnectionBadge}});var r=t(7437),a=t(9035),s=t(708),o=t(4530),i=t(4631),c=t(9806),l=t(3715);function MQTTConnectionBadge(){let e=(0,a.w)(),{color:n,icon:t,label:d}=(()=>{switch(e){case"connected":return{color:"bg-green-500",icon:(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),label:"Connected"};case"disconnected":return{color:"bg-yellow-500",icon:(0,r.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),label:"Disconnected"};case"error":return{color:"bg-red-500",icon:(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),label:"Error"};default:return{color:"bg-gray-400",icon:(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-1 animate-spin"}),label:"Connecting..."}}})();return(0,r.jsxs)(s.C,{className:"flex items-center ".concat(n," text-white px-2 py-1"),children:[t,(0,r.jsx)("span",{className:"text-sm",children:d})]})}},708:function(e,n,t){"use strict";t.d(n,{C:function(){return Badge}});var r=t(7437);t(2265);var a=t(6061),s=t(1628);let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-400 text-yellow-900 hover:bg-yellow-500",outline:"bg-transparent border-foreground text-foreground",outlineInfo:"bg-transparent border-blue-500 text-blue-600",outlineSuccess:"bg-transparent border-green-500 text-green-600",outlineWarning:"bg-transparent border-yellow-400 text-yellow-700",outlineDestructive:"bg-transparent border-destructive text-destructive",gradientInfo:"border-0 bg-gradient-to-r from-blue-400/50 to-blue-600/50 text-blue-900",gradientSuccess:"border-0 bg-gradient-to-r from-green-400/50 to-green-600/50 text-green-900",gradientWarning:"border-0 bg-gradient-to-r from-yellow-300/50 to-yellow-500/50 text-yellow-900",gradientDestructive:"border-0 bg-gradient-to-r from-red-400/50 to-red-600/50 text-red-900"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:n,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)(o({variant:t}),n),...a})}},9598:function(e,n,t){"use strict";t.d(n,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return o},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var r=t(7437),a=t(2265),s=t(1628);let o=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let i=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});l.displayName="CardDescription";let d=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:n,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},1465:function(e,n,t){"use strict";t.d(n,{_:function(){return l}});var r=t(7437),a=t(2265),s=t(6743),o=t(6061),i=t(1628);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(s.f,{ref:n,className:(0,i.cn)(c(),t),...a})});l.displayName=s.f.displayName},7532:function(e,n,t){"use strict";t.d(n,{Bw:function(){return h},DI:function(){return u},Ph:function(){return d},Ql:function(){return b},i4:function(){return f},ki:function(){return m},n5:function(){return x}});var r=t(7437),a=t(2265),s=t(6337),o=t(3523),i=t(9224),c=t(2442),l=t(1628);let d=s.fC,u=s.ZA,m=s.B4,f=a.forwardRef((e,n)=>{let{className:t,children:a,...i}=e;return(0,r.jsxs)(s.xz,{ref:n,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[a,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=s.xz.displayName;let p=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(s.u_,{ref:n,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=s.u_.displayName;let g=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(s.$G,{ref:n,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});g.displayName=s.$G.displayName;let h=a.forwardRef((e,n)=>{let{className:t,children:a,position:o="popper",...i}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:n,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...i,children:[(0,r.jsx)(p,{}),(0,r.jsx)(s.l_,{className:(0,l.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(g,{})]})})});h.displayName=s.VY.displayName;let x=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(s.__,{ref:n,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})});x.displayName=s.__.displayName;let b=a.forwardRef((e,n)=>{let{className:t,children:a,...o}=e;return(0,r.jsxs)(s.ck,{ref:n,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:a})]})});b.displayName=s.ck.displayName;let N=a.forwardRef((e,n)=>{let{className:t,...a}=e;return(0,r.jsx)(s.Z0,{ref:n,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",t),...a})});N.displayName=s.Z0.displayName},9035:function(e,n,t){"use strict";t.d(n,{w:function(){return useMQTTStatus}});var r=t(2265),a=t(5344);function useMQTTStatus(){let e=(0,a.Oh)(),[n,t]=(0,r.useState)(()=>e?e.connected?"connected":e.disconnected?"disconnected":"connecting":"connecting");return(0,r.useEffect)(()=>{let e=(0,a.kS)();e.connected?t("connected"):e.disconnected?t("disconnected"):t("connecting");let handleConnect=()=>t("connected"),handleError=()=>t("error"),handleClose=()=>t("disconnected"),handleReconnect=()=>t("connecting"),handleOffline=()=>t("disconnected");return e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("reconnect",handleReconnect),e.on("offline",handleOffline),()=>{e.off("connect",handleConnect),e.off("error",handleError),e.off("close",handleClose),e.off("reconnect",handleReconnect),e.off("offline",handleOffline)}},[]),n}},5344:function(e,n,t){"use strict";t.d(n,{kS:function(){return connectMQTT},Oh:function(){return getMQTTClient}});var r=t(7406);function getAppConfig(){let e,n;let t=window.location.protocol;if("https:"===t?(e="ws://192.168.0.106:9000",n="http://192.168.0.100:8000"):(e="ws://".concat(window.location.hostname,":9000"),n="http://".concat(window.location.hostname,":8000")),!e)throw Error("MQTT broker URL is not defined.");if(!n)throw Error("API base URL is not defined.");return{mqttBrokerUrl:e,apiBaseUrl:n}}let a=null,s=!1;function connectMQTT(){let{mqttBrokerUrl:e}=getAppConfig();if(!e)throw Error("MQTT broker URL is missing from configuration.");if(a&&(a.connected||s))return a;if(!a||a.disconnected){if(s)return a;s=!0,console.log("MQTT: Attempting connection to ".concat(e,"...")),(a=r.Z.connect(e,{clean:!0,connectTimeout:3e3,reconnectPeriod:1e3})).on("connect",()=>{console.log("MQTT: Connected to ".concat(e)),s=!1}),a.on("error",e=>{console.error("MQTT Error: ".concat(e.message)),s=!1}),a.on("reconnect",()=>{console.log("MQTT: Reconnecting to ".concat(e)),s=!0}),a.on("close",()=>{console.log("MQTT: Connection to ".concat(e," closed.")),s=!1}),a.on("offline",()=>{console.log("MQTT: Client is offline."),s=!1})}return a}function getMQTTClient(){return a}},6743:function(e,n,t){"use strict";t.d(n,{f:function(){return i}});var r=t(2265),a=t(9790),s=t(7437),o=r.forwardRef((e,n)=>(0,s.jsx)(a.WV.label,{...e,ref:n,onMouseDown:n=>{let t=n.target;t.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));o.displayName="Label";var i=o}},function(e){e.O(0,[2793,9461,9848,5348,6107,2995,307,2971,2472,1744],function(){return e(e.s=7908)}),_N_E=e.O()}]);