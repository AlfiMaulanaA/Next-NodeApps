(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{4196:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},1291:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7158:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5458:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},9534:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},3715:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3086:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5531);let s=(0,r.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},1204:function(e,t,n){Promise.resolve().then(n.bind(n,9212))},9212:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return DeviceManagerPage}});var r=n(7437),s=n(2265),a=n(708),i=n(3611),l=n(6005),o=n(9598),c=n(5831),d=n(1465),u=n(2031),f=n(307),m=n(5458),h=n(3086),p=n(5531);let x=(0,p.Z)("microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]]),g=(0,p.Z)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var v=n(4196),j=n(5217),N=n(6820),b=n.n(N),y=n(5344),w=n(9652),k=n(9719),C=n(6577),_=n(8965),M=n(7532);let T=(0,p.Z)("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);function ScanAddressDialog(e){let{onSelectAddress:t}=e,[n,a]=(0,s.useState)(""),[l,o]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[p,x]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),j=(0,y.kS)();(0,s.useEffect)(()=>{if(!j)return;let handleMessage=(e,t)=>{try{let n=JSON.parse(t.toString());"response/i2c_scan"===e&&((null==n?void 0:n.status)==="success"&&(null==n?void 0:n.data)?(a(n.data),x(!1)):(null==n?void 0:n.status)==="error"&&(a("Error: ".concat(n.message||"Unknown error during scan.")),x(!1)))}catch(e){console.error("Failed to parse MQTT message",e),a("Error: Invalid response from device."),x(!1)}};return j.on("message",handleMessage),j.subscribe("response/i2c_scan"),()=>{j.unsubscribe("response/i2c_scan"),j.off("message",handleMessage)}},[j]);let convertHexToDecimal=e=>{o(e);let t=e.startsWith("0x")?e.substring(2):e;try{if(t){let e=parseInt(t,16);isNaN(e)?m("Invalid hex"):m(e.toString())}else m("")}catch(e){m("Invalid hex")}};return(0,r.jsxs)(u.Vq,{open:g,onOpenChange:v,children:[(0,r.jsx)(u.hg,{asChild:!0,children:(0,r.jsx)(i.z,{variant:"outline",size:"sm",className:"ml-2",children:"Scan Address"})}),(0,r.jsxs)(u.cZ,{children:[(0,r.jsx)(u.fK,{children:(0,r.jsx)(u.$N,{children:"I2C Address Tools"})}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-md font-semibold flex items-center gap-2",children:"Hex to Decimal Converter"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"hexValue",children:"Hex Value"}),(0,r.jsx)(c.I,{id:"hexValue",placeholder:"e.g. 0x3F or 3F",value:l,onChange:e=>convertHexToDecimal(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"decimalResult",children:"Decimal Result"}),(0,r.jsx)(c.I,{id:"decimalResult",value:f,readOnly:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h3",{className:"text-md font-semibold flex items-center gap-2",children:["I2C Scanner ",(0,r.jsx)(T,{className:"h-4 w-4"})]}),(0,r.jsx)(i.z,{onClick:()=>{a("Scanning for I2C addresses..."),x(!0),null==j||j.publish("command/i2c_scan",JSON.stringify({command:"scan_i2c"}))},disabled:p,children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"})," Scanning..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{className:"mr-2 h-4 w-4"})," Scan I2C Addresses"]})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)(d._,{children:"Scan Result"}),(0,r.jsx)("pre",{className:"rounded bg-muted p-2 text-sm whitespace-pre-wrap max-h-40 overflow-auto",children:n||"Click 'Scan I2C Addresses' to find devices."})]}),n&&!p&&(0,r.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>t(n.split("\n")[0].split(": ")[1]||""),className:"mt-2",disabled:!n.includes("0x"),children:"Use First Found Address"})]})]})]})]})}function DeviceManagerPage(){let[e,t]=(0,s.useState)([]),[n,p]=(0,s.useState)(!1),[N,T]=(0,s.useState)(!1),[S,D]=(0,s.useState)(1),[R,Z]=(0,s.useState)(""),[P,I]=(0,s.useState)({profile:{name:"",part_number:"",topic:""},protocol_setting:{address:"",device_bus:""}}),z=(0,y.kS)();(0,s.useEffect)(()=>{if(!z){console.warn("MQTT client not available.");return}let handleMessage=(e,n)=>{try{let r=n.toString(),s=JSON.parse(r);"response_device_i2c"===e&&(Array.isArray(s)?t(s):console.warn("[MQTT] DeviceManagerPage (I2C): Payload from response_device_i2c is not an array, skipping update:",s))}catch(t){console.error("[MQTT] DeviceManagerPage (I2C): Invalid JSON from MQTT topic '".concat(e,"' or processing error:"),t,"Raw message:",n.toString())}};return z.on("message",handleMessage),z.subscribe("response_device_i2c"),z.publish("command_device_i2c",JSON.stringify({command:"getDataI2C"})),()=>{z.unsubscribe("response_device_i2c"),z.off("message",handleMessage)}},[z]);let handleDelete=e=>{b().fire({title:"Delete ".concat(e,"?"),text:"You can't undo this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(t=>{if(t.isConfirmed){let t=JSON.stringify({command:"deleteDevice",name:e});null==z||z.publish("command_device_i2c",t),b().fire("Deleted!","Your device has been deleted.","success")}})},{sorted:A,sortField:O,sortDirection:Q,handleSort:E}=(0,w.E)(e),{searchQuery:V,setSearchQuery:F,filteredData:B}=(0,k.d)(A,["profile.name","profile.part_number","profile.topic","protocol_setting.address","protocol_setting.device_bus"]),L=Math.ceil(B.length/5),Y=B.slice((S-1)*5,5*S),q=e.reduce((e,t)=>{var n;let r=(null===(n=t.profile)||void 0===n?void 0:n.part_number)||"Unknown";return e[r]=(e[r]||0)+1,e},{});return(0,r.jsxs)(f.kV,{children:[(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.vP,{className:"-ml-1"}),(0,r.jsx)(j.Z,{orientation:"vertical",className:"mr-2 h-4"}),(0,r.jsx)(m.Z,{className:"h-5 w-5"}),(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Modular Devices Management"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(C.Z,{}),(0,r.jsx)(i.z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>null==z?void 0:z.publish("command_device_i2c",JSON.stringify({command:"getDataI2C"})),children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(i.z,{size:"sm",variant:"default",onClick:()=>{I({profile:{name:"",part_number:"",topic:""},protocol_setting:{address:"",device_bus:""}}),Z(""),T(!1),p(!0)},children:"Add Device"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 m-4",children:[(0,r.jsxs)(o.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ll,{className:"text-sm font-medium",children:"Total Devices"}),(0,r.jsx)(x,{className:"h-5 w-5 text-green-600"})]}),(0,r.jsxs)(o.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered devices"})]})]}),(0,r.jsxs)(o.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ll,{className:"text-sm font-medium",children:"Device Type Breakdown"}),(0,r.jsx)(g,{className:"h-5 w-5 text-green-600"})]}),(0,r.jsx)(o.aY,{children:Object.keys(q).length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(q).map(e=>{let[t,n]=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:[t,":"]}),(0,r.jsx)(a.C,{variant:"outline",className:"text-foreground",children:String(n)})]},t)})}):(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"No device types found."})})]}),(0,r.jsxs)(o.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(o.ll,{className:"text-sm font-medium",children:"Most Common Type"}),(0,r.jsx)(a.C,{variant:"secondary",className:"text-xs",children:"Analysis"})]}),(0,r.jsxs)(o.aY,{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Based on Part Number"}),(0,r.jsx)("div",{className:"text-xl font-semibold",children:(()=>{let t={};e.forEach(e=>{var n;let r=(null===(n=e.profile)||void 0===n?void 0:n.part_number)||"Unknown";t[r]=(t[r]||0)+1});let n=Object.entries(t).sort((e,t)=>t[1]-e[1])[0];return n?"".concat(n[0]," (").concat(n[1],")"):"N/A"})()})]})]})]}),(0,r.jsxs)(o.Zb,{className:"m-4",children:[(0,r.jsx)(o.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.ll,{children:"Device List"}),(0,r.jsx)(ScanAddressDialog,{onSelectAddress:e=>{I(t=>({...t,protocol_setting:{...t.protocol_setting,address:e}}))}})]}),(0,r.jsx)(c.I,{placeholder:"Search devices...",value:V,onChange:e=>F(e.target.value),className:"h-8 w-64"})]})}),(0,r.jsxs)(o.aY,{children:[(0,r.jsxs)(l.iA,{children:[(0,r.jsx)(l.xD,{children:(0,r.jsxs)(l.SC,{children:[(0,r.jsx)(l.ss,{children:"#"}),(0,r.jsxs)(l.ss,{className:"cursor-pointer",onClick:()=>E("profile.name"),children:["Device Name ",(0,r.jsx)(v.Z,{className:"inline ml-1 h-4 w-4"})]}),(0,r.jsxs)(l.ss,{className:"cursor-pointer",onClick:()=>E("profile.part_number"),children:["PN ",(0,r.jsx)(v.Z,{className:"inline ml-1 h-4 w-4"})]}),(0,r.jsxs)(l.ss,{className:"cursor-pointer",onClick:()=>E("protocol_setting.address"),children:["Address ",(0,r.jsx)(v.Z,{className:"inline ml-1 h-4 w-4"})]}),(0,r.jsxs)(l.ss,{className:"cursor-pointer",onClick:()=>E("protocol_setting.device_bus"),children:["Bus ",(0,r.jsx)(v.Z,{className:"inline ml-1 h-4 w-4"})]}),(0,r.jsxs)(l.ss,{className:"cursor-pointer",onClick:()=>E("profile.topic"),children:["Topic ",(0,r.jsx)(v.Z,{className:"inline ml-1 h-4 w-4"})]}),(0,r.jsx)(l.ss,{className:"text-right",children:"Action"})]})}),(0,r.jsx)(l.RM,{children:Y.length>0?Y.map((e,t)=>{var n,s,a,o,c,d;return(0,r.jsxs)(l.SC,{children:[(0,r.jsx)(l.pj,{children:(S-1)*5+t+1}),(0,r.jsx)(l.pj,{children:null===(n=e.profile)||void 0===n?void 0:n.name}),(0,r.jsx)(l.pj,{children:null===(s=e.profile)||void 0===s?void 0:s.part_number}),(0,r.jsx)(l.pj,{children:null===(a=e.protocol_setting)||void 0===a?void 0:a.address}),(0,r.jsx)(l.pj,{children:null===(o=e.protocol_setting)||void 0===o?void 0:o.device_bus}),(0,r.jsx)(l.pj,{children:null===(c=e.profile)||void 0===c?void 0:c.topic}),(0,r.jsxs)(l.pj,{className:"text-right space-x-2",children:[(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>{var t;I(e),Z(null===(t=e.profile)||void 0===t?void 0:t.name),T(!0),p(!0)},children:"Edit"}),(0,r.jsx)(i.z,{size:"sm",variant:"destructive",onClick:()=>{var t;return handleDelete(null===(t=e.profile)||void 0===t?void 0:t.name)},children:"Delete"})]})]},(null===(d=e.profile)||void 0===d?void 0:d.name)||"device-".concat(t))}):(0,r.jsx)(l.SC,{children:(0,r.jsx)(l.pj,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No devices found. Please add a new device or refresh the list."})})})]}),L>1&&(0,r.jsx)(_.tl,{className:"mt-4",children:(0,r.jsxs)(_.ng,{children:[(0,r.jsx)(_.nt,{children:(0,r.jsx)(_.dN,{onClick:()=>D(e=>Math.max(e-1,1)),href:"#","aria-disabled":1===S,className:1===S?"pointer-events-none opacity-50":""})}),Array.from({length:L},(e,t)=>(0,r.jsx)(_.nt,{children:(0,r.jsx)(_.kN,{isActive:S===t+1,onClick:()=>D(t+1),href:"#",children:t+1})},t)),(0,r.jsx)(_.nt,{children:(0,r.jsx)(_.$0,{onClick:()=>D(e=>Math.min(e+1,L)),href:"#","aria-disabled":S===L,className:S===L?"pointer-events-none opacity-50":""})})]})})]})]}),(0,r.jsx)(u.Vq,{open:n,onOpenChange:p,children:(0,r.jsxs)(u.cZ,{children:[(0,r.jsx)(u.fK,{children:(0,r.jsx)(u.$N,{children:N?"Update Device":"Add New Device"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"deviceName",children:"Device Name"}),(0,r.jsx)(c.I,{id:"deviceName",value:P.profile.name,onChange:e=>I({...P,profile:{...P.profile,name:e.target.value}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"partNumber",children:"Part Number"}),(0,r.jsxs)(M.Ph,{value:P.profile.part_number,onValueChange:e=>I({...P,profile:{...P.profile,part_number:e}}),children:[(0,r.jsx)(M.i4,{id:"partNumber",children:(0,r.jsx)(M.ki,{placeholder:"Select a part number"})}),(0,r.jsxs)(M.Bw,{children:[(0,r.jsx)(M.Ql,{value:"RELAYMINI",children:"RELAYMINI"}),(0,r.jsx)(M.Ql,{value:"RELAY",children:"RELAY"}),(0,r.jsx)(M.Ql,{value:"DRYCONTACT",children:"DRYCONTACT"}),(0,r.jsx)(M.Ql,{value:"DIGITALIO",children:"DIGITAL IO"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"address",children:"Address"}),(0,r.jsx)(c.I,{id:"address",value:P.protocol_setting.address,onChange:e=>I({...P,protocol_setting:{...P.protocol_setting,address:e.target.value}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d._,{htmlFor:"deviceBus",children:"Device Bus"}),(0,r.jsx)(c.I,{id:"deviceBus",value:P.protocol_setting.device_bus,onChange:e=>I({...P,protocol_setting:{...P.protocol_setting,device_bus:e.target.value}})})]}),(0,r.jsxs)("div",{className:"col-span-full",children:[(0,r.jsx)(d._,{htmlFor:"topic",children:"Topic"}),(0,r.jsx)(c.I,{id:"topic",value:P.profile.topic,onChange:e=>I({...P,profile:{...P.profile,topic:e.target.value}})})]}),(0,r.jsx)(i.z,{onClick:()=>{let e=JSON.stringify({command:N?"updateDevice":"addDevice",device:P,...N&&R&&{old_name:R}});null==z||z.publish("command_device_i2c",e),p(!1)},className:"col-span-full mt-4",children:N?"Update Device":"Add Device"})]})]})})]})}},6577:function(e,t,n){"use strict";n.d(t,{Z:function(){return MQTTConnectionBadge}});var r=n(7437),s=n(9035),a=n(708),i=n(4530),l=n(4631),o=n(9806),c=n(3715);function MQTTConnectionBadge(){let e=(0,s.w)(),{color:t,icon:n,label:d}=(()=>{switch(e){case"connected":return{color:"bg-green-500",icon:(0,r.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),label:"Connected"};case"disconnected":return{color:"bg-yellow-500",icon:(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-1"}),label:"Disconnected"};case"error":return{color:"bg-red-500",icon:(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),label:"Error"};default:return{color:"bg-gray-400",icon:(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-1 animate-spin"}),label:"Connecting..."}}})();return(0,r.jsxs)(a.C,{className:"flex items-center ".concat(t," text-white px-2 py-1"),children:[n,(0,r.jsx)("span",{className:"text-sm",children:d})]})}},708:function(e,t,n){"use strict";n.d(t,{C:function(){return Badge}});var r=n(7437);n(2265);var s=n(6061),a=n(1628);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-400 text-yellow-900 hover:bg-yellow-500",outline:"bg-transparent border-foreground text-foreground",outlineInfo:"bg-transparent border-blue-500 text-blue-600",outlineSuccess:"bg-transparent border-green-500 text-green-600",outlineWarning:"bg-transparent border-yellow-400 text-yellow-700",outlineDestructive:"bg-transparent border-destructive text-destructive",gradientInfo:"border-0 bg-gradient-to-r from-blue-400/50 to-blue-600/50 text-blue-900",gradientSuccess:"border-0 bg-gradient-to-r from-green-400/50 to-green-600/50 text-green-900",gradientWarning:"border-0 bg-gradient-to-r from-yellow-300/50 to-yellow-500/50 text-yellow-900",gradientDestructive:"border-0 bg-gradient-to-r from-red-400/50 to-red-600/50 text-red-900"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:n,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:n}),t),...s})}},9598:function(e,t,n){"use strict";n.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var r=n(7437),s=n(2265),a=n(1628);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...s})});u.displayName="CardFooter"},2031:function(e,t,n){"use strict";n.d(t,{$N:function(){return m},Be:function(){return h},Vq:function(){return o},cN:function(){return DialogFooter},cZ:function(){return f},fK:function(){return DialogHeader},hg:function(){return c}});var r=n(7437),s=n(2265),a=n(8712),i=n(2549),l=n(1628);let o=a.fC,c=a.xz,d=a.h_;a.x8;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});u.displayName=a.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...o,children:[s,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=a.VY.displayName;let DialogHeader=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};DialogHeader.displayName="DialogHeader";let DialogFooter=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};DialogFooter.displayName="DialogFooter";let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});m.displayName=a.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=a.dk.displayName},1465:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(7437),s=n(2265),a=n(6743),i=n(6061),l=n(1628);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.f,{ref:t,className:(0,l.cn)(o(),n),...s})});c.displayName=a.f.displayName},8965:function(e,t,n){"use strict";n.d(t,{$0:function(){return PaginationNext},dN:function(){return PaginationPrevious},kN:function(){return PaginationLink},ng:function(){return c},nt:function(){return d},tl:function(){return Pagination}});var r=n(7437),s=n(2265),a=n(1291),i=n(7158),l=(n(9534),n(1628)),o=n(3611);let Pagination=e=>{let{className:t,...n}=e;return(0,r.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,l.cn)("mx-auto flex w-full justify-center",t),...n})};Pagination.displayName="Pagination";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("ul",{ref:t,className:(0,l.cn)("flex flex-row items-center gap-1",n),...s})});c.displayName="PaginationContent";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("li",{ref:t,className:(0,l.cn)("",n),...s})});d.displayName="PaginationItem";let PaginationLink=e=>{let{className:t,isActive:n,size:s="icon",...a}=e;return(0,r.jsx)("a",{"aria-current":n?"page":void 0,className:(0,l.cn)((0,o.d)({variant:n?"outline":"ghost",size:s}),t),...a})};PaginationLink.displayName="PaginationLink";let PaginationPrevious=e=>{let{className:t,...n}=e;return(0,r.jsxs)(PaginationLink,{"aria-label":"Go to previous page",size:"default",className:(0,l.cn)("gap-1 pl-2.5",t),...n,children:[(0,r.jsx)(a.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Previous"})]})};PaginationPrevious.displayName="PaginationPrevious";let PaginationNext=e=>{let{className:t,...n}=e;return(0,r.jsxs)(PaginationLink,{"aria-label":"Go to next page",size:"default",className:(0,l.cn)("gap-1 pr-2.5",t),...n,children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(i.Z,{className:"h-4 w-4"})]})};PaginationNext.displayName="PaginationNext"},7532:function(e,t,n){"use strict";n.d(t,{Bw:function(){return x},DI:function(){return u},Ph:function(){return d},Ql:function(){return v},i4:function(){return m},ki:function(){return f},n5:function(){return g}});var r=n(7437),s=n(2265),a=n(6337),i=n(3523),l=n(9224),o=n(2442),c=n(1628);let d=a.fC,u=a.ZA,f=a.B4,m=s.forwardRef((e,t)=>{let{className:n,children:s,...l}=e;return(0,r.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...l,children:[s,(0,r.jsx)(a.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=a.u_.displayName;let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=a.$G.displayName;let x=s.forwardRef((e,t)=>{let{className:n,children:s,position:i="popper",...l}=e;return(0,r.jsx)(a.h_,{children:(0,r.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...l,children:[(0,r.jsx)(h,{}),(0,r.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(p,{})]})})});x.displayName=a.VY.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...s})});g.displayName=a.__.displayName;let v=s.forwardRef((e,t)=>{let{className:n,children:s,...i}=e;return(0,r.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(a.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(a.eT,{children:s})]})});v.displayName=a.ck.displayName;let j=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});j.displayName=a.Z0.displayName},6005:function(e,t,n){"use strict";n.d(t,{RM:function(){return o},Rn:function(){return m},SC:function(){return d},iA:function(){return i},pj:function(){return f},ss:function(){return u},xD:function(){return l}});var r=n(7437),s=n(2265),a=n(1628);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",n),...s})})});i.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",n),...s})});l.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",n),...s})});o.displayName="TableBody";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...s})});c.displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...s})});d.displayName="TableRow";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...s})});u.displayName="TableHead";let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...s})});f.displayName="TableCell";let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",n),...s})});m.displayName="TableCaption"},9719:function(e,t,n){"use strict";n.d(t,{d:function(){return useSearchFilter}});var r=n(2265);function getValueByKeyPath(e,t){let n=t.split("."),r=e;for(let e of n){if(!r||"object"!=typeof r)return"";r=r[e]}return String(null!=r?r:"")}function useSearchFilter(e,t){let[n,s]=(0,r.useState)(""),a=(0,r.useMemo)(()=>{if(!n)return e;let r=n.toLowerCase();return e.filter(e=>t.some(t=>getValueByKeyPath(e,t).toLowerCase().includes(r)))},[n,e,t]);return{searchQuery:n,setSearchQuery:s,filteredData:a}}},9652:function(e,t,n){"use strict";n.d(t,{E:function(){return useSortableTable}});var r=n(2265);function getNestedValue(e,t){return t.split(".").reduce((e,t)=>e&&"object"==typeof e?e[t]:void 0,e)}function useSortableTable(e){let[t,n]=(0,r.useState)(null),[s,a]=(0,r.useState)("asc"),i=[...e].sort((e,n)=>{if(!t)return 0;let r=getNestedValue(e,t),a=getNestedValue(n,t),i=null!=r?r:"",l=null!=a?a:"";return"string"==typeof i&&"string"==typeof l?"asc"===s?i.localeCompare(l):l.localeCompare(i):"number"==typeof i&&"number"==typeof l?"asc"===s?i-l:l-i:0});return{sorted:i,sortField:t,sortDirection:s,handleSort:e=>{t===e?a(e=>"asc"===e?"desc":"asc"):(n(e),a("asc"))}}}},9035:function(e,t,n){"use strict";n.d(t,{w:function(){return useMQTTStatus}});var r=n(2265),s=n(5344);function useMQTTStatus(){let e=(0,s.Oh)(),[t,n]=(0,r.useState)(()=>e?e.connected?"connected":e.disconnected?"disconnected":"connecting":"connecting");return(0,r.useEffect)(()=>{let e=(0,s.kS)();e.connected?n("connected"):e.disconnected?n("disconnected"):n("connecting");let handleConnect=()=>n("connected"),handleError=()=>n("error"),handleClose=()=>n("disconnected"),handleReconnect=()=>n("connecting"),handleOffline=()=>n("disconnected");return e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("reconnect",handleReconnect),e.on("offline",handleOffline),()=>{e.off("connect",handleConnect),e.off("error",handleError),e.off("close",handleClose),e.off("reconnect",handleReconnect),e.off("offline",handleOffline)}},[]),t}},5344:function(e,t,n){"use strict";n.d(t,{kS:function(){return connectMQTT},Oh:function(){return getMQTTClient}});var r=n(7406);function getAppConfig(){let e,t;let n=window.location.protocol;if("https:"===n?(e="ws://192.168.0.106:9000",t="http://192.168.0.100:8000"):(e="ws://".concat(window.location.hostname,":9000"),t="http://".concat(window.location.hostname,":8000")),!e)throw Error("MQTT broker URL is not defined.");if(!t)throw Error("API base URL is not defined.");return{mqttBrokerUrl:e,apiBaseUrl:t}}let s=null,a=!1;function connectMQTT(){let{mqttBrokerUrl:e}=getAppConfig();if(!e)throw Error("MQTT broker URL is missing from configuration.");if(s&&(s.connected||a))return s;if(!s||s.disconnected){if(a)return s;a=!0,console.log("MQTT: Attempting connection to ".concat(e,"...")),(s=r.Z.connect(e,{clean:!0,connectTimeout:3e3,reconnectPeriod:1e3})).on("connect",()=>{console.log("MQTT: Connected to ".concat(e)),a=!1}),s.on("error",e=>{console.error("MQTT Error: ".concat(e.message)),a=!1}),s.on("reconnect",()=>{console.log("MQTT: Reconnecting to ".concat(e)),a=!0}),s.on("close",()=>{console.log("MQTT: Connection to ".concat(e," closed.")),a=!1}),s.on("offline",()=>{console.log("MQTT: Client is offline."),a=!1})}return s}function getMQTTClient(){return s}},6743:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(2265),s=n(9790),a=n(7437),i=r.forwardRef((e,t)=>(0,a.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{let n=t.target;n.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[2793,9461,9848,5348,2995,307,2971,2472,1744],function(){return e(e.s=1204)}),_N_E=e.O()}]);