(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4348],{67:function(){},2061:function(){},4196:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},1291:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7158:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4530:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9806:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5817:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},9534:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7674:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("file-warning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4280:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5367:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4631:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9186:function(e,t,r){Promise.resolve().then(r.bind(r,1009))},1009:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ErrorLogPage}});var n=r(7437),s=r(2265),o=r(7504),a=r(307),l=r(5217),c=r(9598),i=r(3611),d=r(708),u=r(6577),m=r(1424),f=r(6820),h=r.n(f),x=r(4530),g=r(5531);let p=(0,g.Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var b=r(4631);let v=(0,g.Z)("bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);var y=r(7674),j=r(4280);let w=(0,g.Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var N=r(5367),k=r(5817),C=r(4196);let T=(0,g.Z)("message-square-off",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);var M=r(6005),Z=r(8965),A=r(9652),E=r(5344);function ErrorLogPage(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)(1),g=(0,s.useRef)(null),{sorted:D,handleSort:R,sortField:P,sortDirection:S}=(0,A.E)(e),L=(0,s.useCallback)(()=>{let e=(0,E.Oh)();if(!e||!e.connected){m.Am.warning("MQTT not connected. Cannot refresh logs.");return}m.Am.info("Attempting to refresh error logs (data will update automatically)...")},[]);(0,s.useEffect)(()=>{let e=(0,E.kS)();g.current=e;let r=["subrack/error/data","subrack/error/log"];r.forEach(t=>{e.subscribe(t,e=>{e&&console.error("Failed to subscribe to ".concat(t,":"),e)})});let handleConnect=()=>{m.Am.success("MQTT Connected for Error Logs. Data will update automatically.")},handleError=e=>{console.error("MQTT Client Error:",e),m.Am.error("MQTT Error: ".concat(e.message))},handleClose=()=>{m.Am.warning("MQTT disconnected. Log data may be outdated.")},handleMessage=(e,r)=>{try{let n=JSON.parse(r.toString());if("subrack/error/data"===e){if(Array.isArray(n)){let e=n.filter(e=>e.data&&!e.data.includes("MODULAR I2C cannot connect to server broker mqtt"));t(e),m.Am.success("Error logs updated. ✔️")}else m.Am.error("Received invalid log data format. ⚠️"),console.warn("Expected array for logs, got:",n);f(1)}else"subrack/error/log"===e&&console.log("Raw incoming error log:",n)}catch(e){m.Am.error("Invalid payload format received from MQTT. ❌"),console.error("MQTT message parsing error:",e)}};return e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("message",handleMessage),()=>{var t;(null===(t=g.current)||void 0===t?void 0:t.connected)&&r.forEach(e=>{var t;null===(t=g.current)||void 0===t||t.unsubscribe(e)}),e.off("connect",handleConnect),e.off("error",handleError),e.off("close",handleClose),e.off("message",handleMessage)}},[]);let Q=(0,s.useCallback)(async()=>{let e=await h().fire({title:"Are you sure?",text:"You are about to delete ALL error logs. This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete all!",reverseButtons:!0});if(e.isConfirmed){var t;(null===(t=g.current)||void 0===t?void 0:t.connected)?(m.Am.info("Sending command to delete all logs..."),g.current.publish("subrack/error/data/delete/all",JSON.stringify({command:"delete_all"}),e=>{e?(m.Am.error("Failed to send delete all command: ".concat(e.message," \uD83D\uDEAB")),console.error("Publish error:",e),h().fire("Failed!","Could not send delete command.","error")):h().fire("Initiated!","Delete all logs command sent. Table will refresh shortly.","success")})):(m.Am.error("MQTT not connected to send delete command. \uD83D\uDEA8"),h().fire("Error!","MQTT not connected.","error"))}else m.Am.info("Delete all logs cancelled.")},[]),B=(0,s.useCallback)(async e=>{let t=await h().fire({title:"Delete specific logs?",html:'You are about to delete all logs with the message:<br><strong>"'.concat(e,'"</strong>.<br>This action cannot be undone for these specific logs!'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete them!",reverseButtons:!0});if(t.isConfirmed){var r;(null===(r=g.current)||void 0===r?void 0:r.connected)?(m.Am.info('Sending command to delete logs with message: "'.concat(e,'"')),g.current.publish("subrack/error/data/delete/by_message",JSON.stringify({message:e}),e=>{e?(m.Am.error("Failed to send delete by message command: ".concat(e.message," \uD83D\uDEAB")),console.error("Publish error:",e),h().fire("Failed!","Could not send delete by message command.","error")):h().fire("Initiated!","Delete by message command sent. Table will refresh shortly.","success")})):(m.Am.error("MQTT not connected to send delete by message command. \uD83D\uDEA8"),h().fire("Error!","MQTT not connected.","error"))}else m.Am.info("Delete by message cancelled.")},[]),z=(0,s.useCallback)(async e=>{let t=await h().fire({title:"Mark as Resolved?",text:"This action will mark the error as resolved in the system.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, resolve it!",reverseButtons:!0});if(t.isConfirmed){var r;(null===(r=g.current)||void 0===r?void 0:r.connected)?(m.Am.info("Sending command to resolve error ID: ".concat(e)),g.current.publish("subrack/error/data/resolve",JSON.stringify({id:e}),e=>{e?(m.Am.error("Failed to send resolve command: ".concat(e.message," \uD83D\uDEAB")),console.error("Publish error:",e),h().fire("Failed!","Could not send resolve command.","error")):h().fire("Initiated!","Resolve command sent. Table will refresh shortly.","success")})):(m.Am.error("MQTT not connected to send resolve command. \uD83D\uDEA8"),h().fire("Error!","MQTT not connected.","error"))}else m.Am.info("Resolve action cancelled.")},[]),O=(0,s.useCallback)(()=>{if(0===e.length){m.Am.info("No logs to export. \uD83D\uDCDD");return}let t=o.P6.json_to_sheet(e),r=o.P6.book_new();o.P6.book_append_sheet(r,t,"Logs"),o.NC(r,"ErrorLogs.xlsx"),m.Am.success("Logs exported to Excel. \uD83D\uDCCA")},[e]),_=Math.ceil(D.length/10),V=D.slice((r-1)*10,10*r),getTypeBadge=(e,t)=>{let r=e.toLowerCase(),s=null==t?void 0:t.toLowerCase();return"resolved"===s?(0,n.jsx)(d.C,{variant:"outline",className:"bg-green-100 text-green-700 border-green-500",children:"Resolved"}):"critical"===r?(0,n.jsx)(d.C,{variant:"destructive",children:e}):"major"===r?(0,n.jsx)(d.C,{variant:"outline",className:"bg-orange-300 border-orange-600 text-orange-600",children:e}):(0,n.jsx)(d.C,{variant:"secondary",children:e})},getTypeIcon=(e,t)=>{let r=e.toLowerCase(),s=null==t?void 0:t.toLowerCase();return"resolved"===s?(0,n.jsx)(x.Z,{className:"text-green-500 w-4 h-4 mr-1"}):"critical"===r?(0,n.jsx)(p,{className:"text-red-500 w-4 h-4 mr-1"}):"major"===r?(0,n.jsx)(b.Z,{className:"text-orange-500 w-4 h-4 mr-1"}):(0,n.jsx)(v,{className:"text-muted-foreground w-4 h-4 mr-1"})},q=(0,s.useMemo)(()=>{let t={},r={},n=0;e.forEach(e=>{let s=e.type.toLowerCase();t[s]=(t[s]||0)+1,"resolved"!==e.status&&(r[s]=(r[s]||0)+1,n++)});let s=Object.entries(r).sort((e,t)=>t[1]-e[1])[0];return{total:e.length,activeTotal:n,counts:t,activeCounts:r,mostCommonActive:s}},[e]);return(0,n.jsxs)(a.kV,{children:[(0,n.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.vP,{className:"-ml-1"}),(0,n.jsx)(l.Z,{orientation:"vertical",className:"h-4"}),(0,n.jsx)(y.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,n.jsx)("h1",{className:"text-lg font-semibold",children:"Error Log Viewer"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(u.Z,{}),(0,n.jsx)(i.z,{variant:"outline",size:"icon",onClick:L,title:"Refresh Logs",children:(0,n.jsx)(j.Z,{className:"w-4 h-4"})})]})]}),(0,n.jsxs)("div",{className:"p-6 space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,n.jsxs)(c.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,n.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Active Errors"}),(0,n.jsx)(b.Z,{className:"h-5 w-5 text-red-500"})]}),(0,n.jsxs)(c.aY,{children:[(0,n.jsx)("div",{className:"text-3xl font-bold",children:q.activeTotal}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently unresolved system issues"})]})]}),(0,n.jsxs)(c.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,n.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(c.ll,{className:"text-sm font-medium",children:"Active By Type"}),(0,n.jsx)(w,{className:"h-5 w-5 text-blue-600"})]}),(0,n.jsxs)(c.aY,{className:"space-y-1",children:[Object.entries(q.activeCounts).map(e=>{let[t,r]=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[getTypeIcon(t),(0,n.jsx)("span",{className:"capitalize",children:t}),": ",r]},t)}),0===q.activeTotal&&(0,n.jsx)("span",{className:"text-muted-foreground text-sm",children:"No active errors"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Unresolved errors categorized"})]})]}),(0,n.jsxs)(c.Zb,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,n.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(c.ll,{className:"text-sm font-medium",children:"Most Common Active"}),(0,n.jsx)(v,{className:"h-5 w-5 text-yellow-600"})]}),(0,n.jsxs)(c.aY,{children:[q.mostCommonActive?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[getTypeIcon(q.mostCommonActive[0]),(0,n.jsxs)("span",{className:"capitalize font-semibold",children:[q.mostCommonActive[0]," (",q.mostCommonActive[1],")"]})]}):(0,n.jsx)("span",{className:"text-muted-foreground",children:"No active errors"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Most frequent unresolved error type"})]})]})]}),(0,n.jsxs)(c.Zb,{children:[(0,n.jsxs)(c.Ol,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,n.jsx)(c.ll,{className:"text-base",children:"Error Logs"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsxs)(i.z,{size:"sm",variant:"destructive",onClick:Q,title:"Delete all logs",disabled:0===e.length,children:[(0,n.jsx)(N.Z,{className:"w-4 h-4 mr-1"})," Delete All"]}),(0,n.jsxs)(i.z,{size:"sm",variant:"secondary",onClick:O,title:"Export logs to Excel",disabled:0===e.length,children:[(0,n.jsx)(k.Z,{className:"w-4 h-4 mr-1"})," Export to Excel"]})]})]}),(0,n.jsxs)(c.aY,{children:[(0,n.jsxs)(M.iA,{className:"bg-background mt-4",children:[(0,n.jsx)(M.Rn,{children:"Error logs from your devices. Export, clear, or manage as needed."}),(0,n.jsx)(M.xD,{children:(0,n.jsxs)(M.SC,{children:[(0,n.jsx)(M.ss,{children:"#"}),(0,n.jsxs)(M.ss,{className:"cursor-pointer",onClick:()=>R("source"),children:["Source ",(0,n.jsx)(C.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,n.jsxs)(M.ss,{className:"cursor-pointer",onClick:()=>R("data"),children:["Data ",(0,n.jsx)(C.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,n.jsxs)(M.ss,{className:"cursor-pointer",onClick:()=>R("type"),children:["Type ",(0,n.jsx)(C.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,n.jsxs)(M.ss,{className:"cursor-pointer",onClick:()=>R("Timestamp"),children:["Timestamp ",(0,n.jsx)(C.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,n.jsxs)(M.ss,{className:"cursor-pointer",onClick:()=>R("status"),children:["Status ",(0,n.jsx)(C.Z,{className:"inline w-4 h-4 ml-1"})]}),(0,n.jsx)(M.ss,{children:"Actions"})]})}),(0,n.jsx)(M.RM,{children:0===V.length?(0,n.jsx)(M.SC,{children:(0,n.jsxs)(M.pj,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:[(0,n.jsx)(T,{className:"w-8 h-8 mx-auto mb-2"}),"No logs available."]})}):V.map((e,t)=>(0,n.jsxs)(M.SC,{children:[(0,n.jsx)(M.pj,{children:(r-1)*10+t+1}),(0,n.jsx)(M.pj,{children:e.source||"N/A"}),(0,n.jsx)(M.pj,{className:"max-w-xs truncate",title:e.data,children:e.data}),(0,n.jsx)(M.pj,{children:getTypeBadge(e.type,e.status)}),(0,n.jsx)(M.pj,{children:e.Timestamp}),(0,n.jsx)(M.pj,{children:(0,n.jsx)(d.C,{variant:"resolved"===e.status?"outline":"default",className:"resolved"===e.status?"bg-green-100 text-green-700 border-green-500":"bg-red-100 text-red-700 border-red-500",children:e.status||"active"})}),(0,n.jsxs)(M.pj,{className:"space-x-2",children:["resolved"!==e.status&&(0,n.jsx)(i.z,{size:"icon",variant:"outline",onClick:()=>z(e.id),title:"Mark as Resolved",children:(0,n.jsx)(x.Z,{className:"w-4 h-4 text-green-500"})}),(0,n.jsx)(i.z,{size:"icon",variant:"outline",onClick:()=>B(e.data),title:"Delete all with this message",children:(0,n.jsx)(T,{className:"w-4 h-4 text-red-500"})})]})]},e.id||t))})]}),_>1&&(0,n.jsx)(Z.tl,{className:"mt-4",children:(0,n.jsxs)(Z.ng,{children:[(0,n.jsx)(Z.nt,{children:(0,n.jsx)(Z.dN,{href:"#",onClick:()=>f(e=>Math.max(1,e-1))})}),Array.from({length:_}).map((e,t)=>(0,n.jsx)(Z.nt,{children:(0,n.jsx)(Z.kN,{href:"#",isActive:r===t+1,onClick:()=>f(t+1),children:t+1})},t)),(0,n.jsx)(Z.nt,{children:(0,n.jsx)(Z.$0,{href:"#",onClick:()=>f(e=>Math.min(_,e+1))})})]})})]})]})]})]})}},6577:function(e,t,r){"use strict";r.d(t,{Z:function(){return MQTTConnectionBadge}});var n=r(7437),s=r(9035),o=r(708),a=r(4530),l=r(4631),c=r(9806),i=r(3715);function MQTTConnectionBadge(){let e=(0,s.w)(),{color:t,icon:r,label:d}=(()=>{switch(e){case"connected":return{color:"bg-green-500",icon:(0,n.jsx)(a.Z,{className:"w-4 h-4 mr-1"}),label:"Connected"};case"disconnected":return{color:"bg-yellow-500",icon:(0,n.jsx)(l.Z,{className:"w-4 h-4 mr-1"}),label:"Disconnected"};case"error":return{color:"bg-red-500",icon:(0,n.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),label:"Error"};default:return{color:"bg-gray-400",icon:(0,n.jsx)(i.Z,{className:"w-4 h-4 mr-1 animate-spin"}),label:"Connecting..."}}})();return(0,n.jsxs)(o.C,{className:"flex items-center ".concat(t," text-white px-2 py-1"),children:[r,(0,n.jsx)("span",{className:"text-sm",children:d})]})}},708:function(e,t,r){"use strict";r.d(t,{C:function(){return Badge}});var n=r(7437);r(2265);var s=r(6061),o=r(1628);let a=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-400 text-yellow-900 hover:bg-yellow-500",outline:"bg-transparent border-foreground text-foreground",outlineInfo:"bg-transparent border-blue-500 text-blue-600",outlineSuccess:"bg-transparent border-green-500 text-green-600",outlineWarning:"bg-transparent border-yellow-400 text-yellow-700",outlineDestructive:"bg-transparent border-destructive text-destructive",gradientInfo:"border-0 bg-gradient-to-r from-blue-400/50 to-blue-600/50 text-blue-900",gradientSuccess:"border-0 bg-gradient-to-r from-green-400/50 to-green-600/50 text-green-900",gradientWarning:"border-0 bg-gradient-to-r from-yellow-300/50 to-yellow-500/50 text-yellow-900",gradientDestructive:"border-0 bg-gradient-to-r from-red-400/50 to-red-600/50 text-red-900"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,o.cn)(a({variant:r}),t),...s})}},9598:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return i},Zb:function(){return a},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var n=r(7437),s=r(2265),o=r(1628);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});a.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})});i.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},8965:function(e,t,r){"use strict";r.d(t,{$0:function(){return PaginationNext},dN:function(){return PaginationPrevious},kN:function(){return PaginationLink},ng:function(){return i},nt:function(){return d},tl:function(){return Pagination}});var n=r(7437),s=r(2265),o=r(1291),a=r(7158),l=(r(9534),r(1628)),c=r(3611);let Pagination=e=>{let{className:t,...r}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,l.cn)("mx-auto flex w-full justify-center",t),...r})};Pagination.displayName="Pagination";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("ul",{ref:t,className:(0,l.cn)("flex flex-row items-center gap-1",r),...s})});i.displayName="PaginationContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("li",{ref:t,className:(0,l.cn)("",r),...s})});d.displayName="PaginationItem";let PaginationLink=e=>{let{className:t,isActive:r,size:s="icon",...o}=e;return(0,n.jsx)("a",{"aria-current":r?"page":void 0,className:(0,l.cn)((0,c.d)({variant:r?"outline":"ghost",size:s}),t),...o})};PaginationLink.displayName="PaginationLink";let PaginationPrevious=e=>{let{className:t,...r}=e;return(0,n.jsxs)(PaginationLink,{"aria-label":"Go to previous page",size:"default",className:(0,l.cn)("gap-1 pl-2.5",t),...r,children:[(0,n.jsx)(o.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"Previous"})]})};PaginationPrevious.displayName="PaginationPrevious";let PaginationNext=e=>{let{className:t,...r}=e;return(0,n.jsxs)(PaginationLink,{"aria-label":"Go to next page",size:"default",className:(0,l.cn)("gap-1 pr-2.5",t),...r,children:[(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(a.Z,{className:"h-4 w-4"})]})};PaginationNext.displayName="PaginationNext"},6005:function(e,t,r){"use strict";r.d(t,{RM:function(){return c},Rn:function(){return f},SC:function(){return d},iA:function(){return a},pj:function(){return m},ss:function(){return u},xD:function(){return l}});var n=r(7437),s=r(2265),o=r(1628);let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",r),...s})})});a.displayName="Table";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",r),...s})});l.displayName="TableHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",r),...s})});c.displayName="TableBody";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})});i.displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});d.displayName="TableRow";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});m.displayName="TableCell";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",r),...s})});f.displayName="TableCaption"},9652:function(e,t,r){"use strict";r.d(t,{E:function(){return useSortableTable}});var n=r(2265);function getNestedValue(e,t){return t.split(".").reduce((e,t)=>e&&"object"==typeof e?e[t]:void 0,e)}function useSortableTable(e){let[t,r]=(0,n.useState)(null),[s,o]=(0,n.useState)("asc"),a=[...e].sort((e,r)=>{if(!t)return 0;let n=getNestedValue(e,t),o=getNestedValue(r,t),a=null!=n?n:"",l=null!=o?o:"";return"string"==typeof a&&"string"==typeof l?"asc"===s?a.localeCompare(l):l.localeCompare(a):"number"==typeof a&&"number"==typeof l?"asc"===s?a-l:l-a:0});return{sorted:a,sortField:t,sortDirection:s,handleSort:e=>{t===e?o(e=>"asc"===e?"desc":"asc"):(r(e),o("asc"))}}}},9035:function(e,t,r){"use strict";r.d(t,{w:function(){return useMQTTStatus}});var n=r(2265),s=r(5344);function useMQTTStatus(){let e=(0,s.Oh)(),[t,r]=(0,n.useState)(()=>e?e.connected?"connected":e.disconnected?"disconnected":"connecting":"connecting");return(0,n.useEffect)(()=>{let e=(0,s.kS)();e.connected?r("connected"):e.disconnected?r("disconnected"):r("connecting");let handleConnect=()=>r("connected"),handleError=()=>r("error"),handleClose=()=>r("disconnected"),handleReconnect=()=>r("connecting"),handleOffline=()=>r("disconnected");return e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("reconnect",handleReconnect),e.on("offline",handleOffline),()=>{e.off("connect",handleConnect),e.off("error",handleError),e.off("close",handleClose),e.off("reconnect",handleReconnect),e.off("offline",handleOffline)}},[]),t}},5344:function(e,t,r){"use strict";r.d(t,{kS:function(){return connectMQTT},Oh:function(){return getMQTTClient}});var n=r(7406);function getAppConfig(){let e,t;let r=window.location.protocol;if("https:"===r?(e="ws://192.168.0.106:9000",t="http://192.168.0.100:8000"):(e="ws://".concat(window.location.hostname,":9000"),t="http://".concat(window.location.hostname,":8000")),!e)throw Error("MQTT broker URL is not defined.");if(!t)throw Error("API base URL is not defined.");return{mqttBrokerUrl:e,apiBaseUrl:t}}let s=null,o=!1;function connectMQTT(){let{mqttBrokerUrl:e}=getAppConfig();if(!e)throw Error("MQTT broker URL is missing from configuration.");if(s&&(s.connected||o))return s;if(!s||s.disconnected){if(o)return s;o=!0,console.log("MQTT: Attempting connection to ".concat(e,"...")),(s=n.Z.connect(e,{clean:!0,connectTimeout:3e3,reconnectPeriod:1e3})).on("connect",()=>{console.log("MQTT: Connected to ".concat(e)),o=!1}),s.on("error",e=>{console.error("MQTT Error: ".concat(e.message)),o=!1}),s.on("reconnect",()=>{console.log("MQTT: Reconnecting to ".concat(e)),o=!0}),s.on("close",()=>{console.log("MQTT: Connection to ".concat(e," closed.")),o=!1}),s.on("offline",()=>{console.log("MQTT: Client is offline."),o=!1})}return s}function getMQTTClient(){return s}}},function(e){e.O(0,[2793,9461,1425,9848,5348,6107,307,2971,2472,1744],function(){return e(e.s=9186)}),_N_E=e.O()}]);