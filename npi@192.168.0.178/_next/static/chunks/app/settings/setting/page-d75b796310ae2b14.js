(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3708],{4530:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9806:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5458:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]])},469:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},3088:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},3086:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},9409:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4135:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},4631:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},261:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5531);let s=(0,n.Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},270:function(e,t,r){Promise.resolve().then(r.bind(r,8417))},8417:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return SettingsPage}});var n=r(7437),s=r(2265),a=r(9598),i=r(3611),l=r(1424),d=r(9409),u=r(4135),m=r(3088),h=r(3086),f=r(5531);let g=(0,f.Z)("battery-charging",[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]]),y=(0,f.Z)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),x=(0,f.Z)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var b=r(261);let w=(0,f.Z)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);var v=r(5458);let C=(0,f.Z)("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);var k=r(469);let j=(0,f.Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var T=r(5217),N=r(307),Z=r(1350),A=r(6577),S=r(6820),_=r.n(S),B=r(5344);function SettingsPage(){let[e,t]=(0,s.useState)({cpu_usage:0,cpu_temp:"N/A",memory_usage:0,used_memory:0,total_memory:0,disk_usage:0,used_disk:0,total_disk:0,eth0_ip_address:"N/A",wlan0_ip_address:"N/A",uptime:0}),[r,f]=(0,s.useState)(0),S=(0,s.useRef)(null),{theme:P,setTheme:Q}=(0,Z.useTheme)(),O=(0,s.useCallback)(()=>{let e=(0,B.Oh)();e&&e.connected?l.Am.info("Requesting system status..."):l.Am.warning("MQTT not connected. Cannot request system status.")},[]);(0,s.useEffect)(()=>{let e=(0,B.kS)();S.current=e;let r=["system/status","service/response","command/reset_config","batteryCharger/reset/energy/response","batteryCharger/reset/cycle/response"],subscribeToTopics=()=>{r.forEach(t=>{e.subscribe(t,e=>{e&&console.error("Failed to subscribe to ".concat(t,":"),e)})})},handleConnect=()=>{subscribeToTopics(),O(),l.Am.success("MQTT Connected. Fetching system data...")},handleError=e=>{console.error("MQTT Client Error:",e),l.Am.error("MQTT connection error. Please check broker settings.")},handleClose=()=>{console.log("MQTT client disconnected.")},handleMessage=(e,r)=>{try{let n=JSON.parse(r.toString());"system/status"===e?t(n):"service/response"===e?(l.Am.dismiss("serviceCommand"),l.Am.dismiss("resetConfigCommand"),"success"===n.result?_().fire({position:"top-end",icon:"success",title:n.message||"Command executed successfully.",showConfirmButton:!1,timer:3e3,toast:!0}):(_().fire({position:"top-end",icon:"error",title:"Error!",text:n.message||"Command failed.",showConfirmButton:!1,timer:3e3,toast:!0}),console.error("Service command error response:",n))):"command/reset_config"===e?(console.log("Received reset_config command from hardware:",n),"reset"===n.action&&l.Am.info("Hardware button initiated a configuration reset. System may reboot soon.")):"batteryCharger/reset/energy/response"===e?(_().close(),"reset"===n.status?_().fire({position:"top-end",icon:"success",title:"Success!",text:n.message||"Energy counters reset successfully.",showConfirmButton:!1,timer:3e3,toast:!0}):"error"===n.status&&(_().fire({position:"top-end",icon:"error",title:"Error!",text:n.message||"Failed to reset energy counters.",showConfirmButton:!1,timer:3e3,toast:!0}),console.error("Energy reset error response:",n))):"batteryCharger/reset/cycle/response"===e&&(_().close(),"reset"===n.status?_().fire({position:"top-end",icon:"success",title:"Success!",text:n.message||"Cycle counters reset successfully.",showConfirmButton:!1,timer:3e3,toast:!0}):"error"===n.status&&(_().fire({position:"top-end",icon:"error",title:"Error!",text:n.message||"Failed to reset cycle counters.",showConfirmButton:!1,timer:3e3,toast:!0}),console.error("Cycle reset error response:",n)))}catch(e){l.Am.error("Invalid payload format received from MQTT."),console.error("MQTT message parsing error:",e)}};e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("message",handleMessage),e.connected&&(subscribeToTopics(),O());let n=setInterval(()=>f(e=>(e+1)%2),3e3);return()=>{clearInterval(n),S.current&&(r.forEach(e=>{var t;null===(t=S.current)||void 0===t||t.unsubscribe(e)}),S.current.off("connect",handleConnect),S.current.off("error",handleError),S.current.off("close",handleClose),S.current.off("message",handleMessage))}},[O]);let sendCommand=async(e,t,r)=>{if(!S.current||!S.current.connected){l.Am.error("MQTT not connected. Please wait for connection or refresh.");return}let n=!0;if(r){let e=await _().fire({title:"Are you sure?",text:r,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, proceed!"});e.isConfirmed||(n=!1,l.Am.info("Action cancelled."))}if(n){let r=JSON.stringify({services:e,action:t});S.current.publish("service/command",r,e=>{e?(l.Am.error("Failed to send command: ".concat(e.message)),console.error("Publish error:",e)):_().fire({title:"Processing...",text:"".concat(t.toUpperCase()," initiated. Please wait for a response."),icon:"info",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{_().showLoading()}})})}},resetConfig=async e=>{if(!S.current||!S.current.connected){l.Am.error("MQTT not connected. Please wait for connection or refresh.");return}let t=!0;if(e){let r=await _().fire({title:"Are you sure?",text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, proceed!"});r.isConfirmed||(t=!1,l.Am.info("Action cancelled."))}if(t){let e=JSON.stringify({action:"reset"});S.current.publish("command/reset_config",e,e=>{e?(l.Am.error("Failed to send reset config command: ".concat(e.message)),console.error("Publish error for reset config:",e)):_().fire({title:"Resetting Configuration...",text:"This may take a moment. Please wait.",icon:"info",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{_().showLoading()}})})}},resetEnergyCounters=async()=>{if(!S.current||!S.current.connected){l.Am.error("MQTT not connected. Please wait for connection or refresh.");return}let e=await _().fire({title:"Reset Energy Counters?",text:"This action will reset the energy measurement counters to zero. Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reset it!"});e.isConfirmed?S.current.publish("batteryCharger/reset/energy","",e=>{e?(l.Am.error("Failed to send energy reset command: ".concat(e.message)),console.error("Publish error for energy reset:",e)):_().fire({title:"Resetting Energy...",html:"Please wait, this will take approximately <b></b> seconds.",timer:1e4,timerProgressBar:!0,allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{var e;_().showLoading();let t=null===(e=_().getHtmlContainer())||void 0===e?void 0:e.querySelector("b"),r=null;t&&(r=setInterval(()=>{_().getTimerLeft()&&(t.textContent=String(Math.ceil(_().getTimerLeft()/1e3)))},100)),_().stopTimer=()=>{r&&clearInterval(r)}},willClose:()=>{}})}):l.Am.info("Energy reset cancelled.")},resetCycleCounters=async()=>{if(!S.current||!S.current.connected){l.Am.error("MQTT not connected. Please wait for connection or refresh.");return}let e=await _().fire({title:"Reset Cycle Counters?",text:"This action will reset the battery cycle count to zero. Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, reset it!"});e.isConfirmed?S.current.publish("batteryCharger/reset/cycle","",e=>{e?(l.Am.error("Failed to send cycle reset command: ".concat(e.message)),console.error("Publish error for cycle reset:",e)):_().fire({title:"Resetting Cycle Count...",html:"Please wait, this will take approximately <b></b> seconds.",timer:1e4,timerProgressBar:!0,allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>{var e;_().showLoading();let t=null===(e=_().getHtmlContainer())||void 0===e?void 0:e.querySelector("b"),r=null;t&&(r=setInterval(()=>{_().getTimerLeft()&&(t.textContent=String(Math.ceil(_().getTimerLeft()/1e3)))},100)),_().stopTimer=()=>{r&&clearInterval(r)}},willClose:()=>{}})}):l.Am.info("Cycle reset cancelled.")},I=0===r?e.eth0_ip_address:e.wlan0_ip_address;return(0,n.jsxs)(N.kV,{children:[(0,n.jsxs)("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(N.vP,{className:"-ml-1"}),(0,n.jsx)(T.Z,{orientation:"vertical",className:"mr-2 h-4"}),(0,n.jsx)(d.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,n.jsx)("h1",{className:"text-lg font-semibold",children:"General Settings"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.z,{variant:"ghost",size:"icon","aria-label":"Toggle theme",className:"h-8 w-8",onClick:()=>Q("dark"===P?"light":"dark"),children:"dark"===P?(0,n.jsx)(u.Z,{className:"h-5 w-5 text-yellow-400 transition-all duration-200"}):(0,n.jsx)(m.Z,{className:"h-5 w-5 text-blue-600 transition-all duration-200"})}),(0,n.jsx)("span",{className:"text-xs font-medium min-w-[70px] text-center select-none",children:"dark"===P?"Dark Mode":"Light Mode"}),(0,n.jsx)(i.z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>window.location.reload(),children:(0,n.jsx)(h.Z,{})})]})]}),(0,n.jsxs)("div",{className:"p-6 space-y-6",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Services Management"}),(0,n.jsx)("span",{className:"flex items-center gap-2 text-sm",children:(0,n.jsx)(A.Z,{})})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,n.jsx)("h6",{className:"text-sm font-semibold mb-2",children:"Config"}),(0,n.jsx)(i.z,{onClick:()=>sendCommand(["Multiprocesing.service"],"restart","This will restart MQTT and IP configurations. Are you sure?"),className:"w-full mb-2 flex justify-between items-center",variant:"secondary",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),"Restart MQTT + IP"]})}),(0,n.jsx)(i.z,{onClick:()=>sendCommand(["Multiprocesing.service"],"restart","This will restart Device Modbus configurations. Are you sure?"),className:"w-full flex justify-between items-center",variant:"secondary",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),"Restart Device Modbus"]})}),(0,n.jsx)(i.z,{onClick:resetEnergyCounters,className:"w-full mt-2 flex justify-between items-center",variant:"secondary",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(g,{className:"h-4 w-4"}),"Reset Energy Counters"]})}),(0,n.jsx)(i.z,{onClick:resetCycleCounters,className:"w-full mt-2 flex justify-between items-center",variant:"secondary",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(g,{className:"h-4 w-4"}),"Reset Cycle Counters"]})})]}),(0,n.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,n.jsx)("h6",{className:"text-sm font-semibold mb-2",children:"System"}),(0,n.jsx)(i.z,{onClick:()=>resetConfig("This will reset specific configurations to their defaults. This action may cause a temporary service interruption. Are you sure?"),className:"w-full mb-2 flex justify-between items-center",variant:"destructive",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(y,{className:"h-4 w-4"}),"Reset System to Default"]})}),(0,n.jsx)(i.z,{onClick:()=>sendCommand([],"sudo reboot","This will reboot the system. All current operations will be interrupted. Are you sure?"),className:"w-full mb-2 flex justify-between items-center",variant:"destructive",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4"}),"Reboot System"]})}),(0,n.jsx)(i.z,{onClick:()=>sendCommand([],"sudo shutdown now","This will shut down the system. You will need physical access to power it back on. Are you sure?"),className:"w-full flex justify-between items-center",variant:"destructive",disabled:!S.current||!S.current.connected,children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(x,{className:"h-4 w-4"}),"Shutdown System"]})})]})]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(b.Z,{className:"h-6 w-6 text-blue-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"IP Address"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,n.jsxs)("strong",{children:[0===r?"eth0":"wlan0",":"]})," ",I]})]})]})}),(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(w,{className:"h-6 w-6 text-red-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"CPU Temp"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.cpu_temp,"\xb0C"]})]})]})}),(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(v.Z,{className:"h-6 w-6 text-green-700"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"CPU Usage"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.cpu_usage,"%"]})]})]})}),(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(C,{className:"h-6 w-6 text-green-600"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"Memory Usage"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.memory_usage,"% (",e.used_memory,"/",e.total_memory," MB)"]})]})]})}),(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(k.Z,{className:"h-6 w-6 text-black-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"Disk Usage"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.disk_usage,"% (",e.used_disk,"/",e.total_disk," MB)"]})]})]})}),(0,n.jsx)(a.Zb,{children:(0,n.jsxs)(a.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)(j,{className:"h-6 w-6 text-indigo-500"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h6",{className:"font-medium",children:"Uptime"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[Math.floor(e.uptime/3600),"h ",Math.floor(e.uptime%3600/60),"m"]})]})]})})]})]})]})}},6577:function(e,t,r){"use strict";r.d(t,{Z:function(){return MQTTConnectionBadge}});var n=r(7437),s=r(9035),a=r(708),i=r(4530),l=r(4631),d=r(9806),u=r(3715);function MQTTConnectionBadge(){let e=(0,s.w)(),{color:t,icon:r,label:m}=(()=>{switch(e){case"connected":return{color:"bg-green-500",icon:(0,n.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),label:"Connected"};case"disconnected":return{color:"bg-yellow-500",icon:(0,n.jsx)(l.Z,{className:"w-4 h-4 mr-1"}),label:"Disconnected"};case"error":return{color:"bg-red-500",icon:(0,n.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),label:"Error"};default:return{color:"bg-gray-400",icon:(0,n.jsx)(u.Z,{className:"w-4 h-4 mr-1 animate-spin"}),label:"Connecting..."}}})();return(0,n.jsxs)(a.C,{className:"flex items-center ".concat(t," text-white px-2 py-1"),children:[r,(0,n.jsx)("span",{className:"text-sm",children:m})]})}},708:function(e,t,r){"use strict";r.d(t,{C:function(){return Badge}});var n=r(7437);r(2265);var s=r(6061),a=r(1628);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-400 text-yellow-900 hover:bg-yellow-500",outline:"bg-transparent border-foreground text-foreground",outlineInfo:"bg-transparent border-blue-500 text-blue-600",outlineSuccess:"bg-transparent border-green-500 text-green-600",outlineWarning:"bg-transparent border-yellow-400 text-yellow-700",outlineDestructive:"bg-transparent border-destructive text-destructive",gradientInfo:"border-0 bg-gradient-to-r from-blue-400/50 to-blue-600/50 text-blue-900",gradientSuccess:"border-0 bg-gradient-to-r from-green-400/50 to-green-600/50 text-green-900",gradientWarning:"border-0 bg-gradient-to-r from-yellow-300/50 to-yellow-500/50 text-yellow-900",gradientDestructive:"border-0 bg-gradient-to-r from-red-400/50 to-red-600/50 text-red-900"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...s})}},9598:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return u},Zb:function(){return i},aY:function(){return m},eW:function(){return h},ll:function(){return d}});var n=r(7437),s=r(2265),a=r(1628);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});u.displayName="CardDescription";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});m.displayName="CardContent";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})});h.displayName="CardFooter"},9035:function(e,t,r){"use strict";r.d(t,{w:function(){return useMQTTStatus}});var n=r(2265),s=r(5344);function useMQTTStatus(){let e=(0,s.Oh)(),[t,r]=(0,n.useState)(()=>e?e.connected?"connected":e.disconnected?"disconnected":"connecting":"connecting");return(0,n.useEffect)(()=>{let e=(0,s.kS)();e.connected?r("connected"):e.disconnected?r("disconnected"):r("connecting");let handleConnect=()=>r("connected"),handleError=()=>r("error"),handleClose=()=>r("disconnected"),handleReconnect=()=>r("connecting"),handleOffline=()=>r("disconnected");return e.on("connect",handleConnect),e.on("error",handleError),e.on("close",handleClose),e.on("reconnect",handleReconnect),e.on("offline",handleOffline),()=>{e.off("connect",handleConnect),e.off("error",handleError),e.off("close",handleClose),e.off("reconnect",handleReconnect),e.off("offline",handleOffline)}},[]),t}},5344:function(e,t,r){"use strict";r.d(t,{kS:function(){return connectMQTT},Oh:function(){return getMQTTClient}});var n=r(7406);function getAppConfig(){let e,t;let r=window.location.protocol;if("https:"===r?(e="ws://192.168.0.106:9000",t="http://192.168.0.100:8000"):(e="ws://".concat(window.location.hostname,":9000"),t="http://".concat(window.location.hostname,":8000")),!e)throw Error("MQTT broker URL is not defined.");if(!t)throw Error("API base URL is not defined.");return{mqttBrokerUrl:e,apiBaseUrl:t}}let s=null,a=!1;function connectMQTT(){let{mqttBrokerUrl:e}=getAppConfig();if(!e)throw Error("MQTT broker URL is missing from configuration.");if(s&&(s.connected||a))return s;if(!s||s.disconnected){if(a)return s;a=!0,console.log("MQTT: Attempting connection to ".concat(e,"...")),(s=n.Z.connect(e,{clean:!0,connectTimeout:3e3,reconnectPeriod:1e3})).on("connect",()=>{console.log("MQTT: Connected to ".concat(e)),a=!1}),s.on("error",e=>{console.error("MQTT Error: ".concat(e.message)),a=!1}),s.on("reconnect",()=>{console.log("MQTT: Reconnecting to ".concat(e)),a=!0}),s.on("close",()=>{console.log("MQTT: Connection to ".concat(e," closed.")),a=!1}),s.on("offline",()=>{console.log("MQTT: Client is offline."),a=!1})}return s}function getMQTTClient(){return s}},1350:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return J},useTheme:function(){return z}});var n=r(2265),M=(e,t,r,n,s,a,i,l)=>{let d=document.documentElement,u=["light","dark"];function p(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?s.map(e=>a[e]||e):s;r?(d.classList.remove(...n),d.classList.add(a&&a[t]?a[t]:t)):d.setAttribute(e,t)}),R(t)}function R(e){l&&u.includes(e)&&(d.style.colorScheme=e)}function c(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?c():e;p(n)}catch(e){}},s=["light","dark"],a="(prefers-color-scheme: dark)",i="undefined"==typeof window,l=n.createContext(void 0),d={setTheme:e=>{},themes:[]},z=()=>{var e;return null!=(e=n.useContext(l))?e:d},J=e=>n.useContext(l)?n.createElement(n.Fragment,null,e.children):n.createElement(V,{...e}),u=["light","dark"],V=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:i=!0,storageKey:d="theme",themes:h=u,defaultTheme:f=r?"system":"light",attribute:g="data-theme",value:y,children:x,nonce:b,scriptProps:w})=>{let[v,C]=n.useState(()=>H(d,f)),[k,j]=n.useState(()=>"system"===v?E():v),T=y?Object.values(y):h,N=n.useCallback(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=E());let a=y?y[n]:n,l=t?W(b):null,d=document.documentElement,L=e=>{"class"===e?(d.classList.remove(...T),a&&d.classList.add(a)):e.startsWith("data-")&&(a?d.setAttribute(e,a):d.removeAttribute(e))};if(Array.isArray(g)?g.forEach(L):L(g),i){let e=s.includes(f)?f:null,t=s.includes(n)?n:e;d.style.colorScheme=t}null==l||l()},[b]),Z=n.useCallback(e=>{let t="function"==typeof e?e(v):e;C(t);try{localStorage.setItem(d,t)}catch(e){}},[v]),A=n.useCallback(t=>{j(E(t)),"system"===v&&r&&!e&&N("system")},[v,e]);n.useEffect(()=>{let e=window.matchMedia(a);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),n.useEffect(()=>{let o=e=>{e.key===d&&(e.newValue?C(e.newValue):Z(f))};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[Z]),n.useEffect(()=>{N(null!=e?e:v)},[e,v]);let S=n.useMemo(()=>({theme:v,setTheme:Z,forcedTheme:e,resolvedTheme:"system"===v?k:v,themes:r?[...h,"system"]:h,systemTheme:r?k:void 0}),[v,Z,e,k,r,h]);return n.createElement(l.Provider,{value:S},n.createElement(m,{forcedTheme:e,storageKey:d,attribute:g,enableSystem:r,enableColorScheme:i,defaultTheme:f,value:y,themes:h,nonce:b,scriptProps:w}),x)},m=n.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:l,themes:d,nonce:u,scriptProps:m})=>{let h=JSON.stringify([r,t,i,e,d,l,s,a]).slice(1,-1);return n.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${M.toString()})(${h})`}})}),H=(e,t)=>{let r;if(!i){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},W=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},E=e=>(e||(e=window.matchMedia(a)),e.matches?"dark":"light")}},function(e){e.O(0,[2793,9461,9848,5348,6107,307,2971,2472,1744],function(){return e(e.s=270)}),_N_E=e.O()}]);