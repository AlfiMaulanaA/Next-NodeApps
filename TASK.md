 sudo python3 RemapPayload.py

==================================================
======= MQTT Payload Remapping =======
Initializing System...
==================================================
[INFO] Loading configurations...
[INFO] Remapping configuration loaded from ./JSON/remappingConfig.json
[INFO] Initializing unified error logger...
Error logger initialized for RemappingPayloadService
[INFO] Connecting to Remap MQTT broker...
Error logger connected for RemappingPayloadService
[OK] Remap MQTT broker connected
[INFO] Successfully subscribed to command topic: REMAP_COMMAND
[OK] Subscribed to device topic: Limbah/Modular/relay_mini/1
[OK] Subscribed to device topic: Limbah/Modular/drycontact/1
[OK] Subscribed to device topic: IOT/Shoto/1
[INFO] Total device topics subscribed: 3
[INFO] Config publishing thread active - posting every 5 seconds
[OK] Config publishing thread started
[INFO] Periodic null data published to Remap/RelayDC [config: bf18dc85-9d95-4772-a01b-cce68d7c04f7]: {"name": "Remap Relay and Dry Contact", "StateOfCharge": null, "RelayStatus1": null, "RelayStatus2": null, "DCstatus1": null, "Timestamp": "2025-10-07T15:32:25.313467"}
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle

==================================================
======= MQTT Payload Remapping =======
Success To Running

MQTT Broker Remap is Running

==================================
Log print Data

[OK] MQTT Payload Remapping service started successfully
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Periodic null data published to Remap/RelayDC [config: bf18dc85-9d95-4772-a01b-cce68d7c04f7]: {"name": "Remap Relay and Dry Contact", "StateOfCharge": null, "RelayStatus1": null, "RelayStatus2": null, "DCstatus1": null, "Timestamp": "2025-10-07T15:32:35.354931"}
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Periodic null data published to Remap/RelayDC [config: bf18dc85-9d95-4772-a01b-cce68d7c04f7]: {"name": "Remap Relay and Dry Contact", "StateOfCharge": null, "RelayStatus1": null, "RelayStatus2": null, "DCstatus1": null, "Timestamp": "2025-10-07T15:32:45.401031"}
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
[INFO] Device Limbah/Modular/drycontact/1 data buffered (not publishing) - periodic publish will handle
^C[WARN] Service stopped by user
[INFO] Shutting down services...
[INFO] Config publishing thread will stop with application
[INFO] Device Limbah/Modular/relay_mini/1 data buffered (not publishing) - periodic publish will handle
Error logger disconnected normally for RemappingPayloadService
[OK] Application terminated
npi@nanopiduo2:~/Subrack-Controller-Node-NanopiDuo2/MIDDLEWARE/CONFIG_SYSTEM_DEVICE$


npi@nanopiduo2:~/Subrack-Controller-Node-NanopiDuo2/MIDDLEWARE/CONFIG_SYSTEM_DEVICE/JSON$ sudo cat remappingConfig.json
[
  {
    "id": "bf18dc85-9d95-4772-a01b-cce68d7c04f7",
    "name": "Remap Relay and Dry Contact",
    "description": "",
    "enabled": true,
    "created_at": "2025-10-07T08:28:35.152Z",
    "updated_at": "2025-10-07 15:28:35",
    "source_devices": [
      {
        "device_id": "6749d7f0-7d6e-4aec-bd6e-c4679c3cddd6",
        "device_name": "Shoto_Battery_1",
        "mqtt_topic": "IOT/Shoto/1",
        "key_mappings": [
          {
            "original_key": "SOC",
            "custom_key": "StateOfCharge"
          }
        ]
      },
      {
        "device_id": "ad70f01f-7090-4553-a8cd-395c3ead2290",
        "device_name": "RelayMini1",
        "mqtt_topic": "Limbah/Modular/relay_mini/1",
        "key_mappings": [
          {
            "original_key": "relayMiniOutput1",
            "custom_key": "RelayStatus1"
          },
          {
            "original_key": "relayMiniOutput2",
            "custom_key": "RelayStatus2"
          }
        ]
      },
      {
        "device_id": "4dfbe5b4-741b-4320-88d2-fa904af15e27",
        "device_name": "Drycontact1",
        "mqtt_topic": "Limbah/Modular/drycontact/1",
        "key_mappings": [
          {
            "original_key": "drycontactInput1",
            "custom_key": "DCstatus1"
          }
        ]
      }
    ],
    "mqtt_publish_config": {
      "broker_url": "mqtt://localhost:1883",
      "client_id": "remapper_client_b9bd3726",
      "topic": "Remap/RelayDC",
      "qos": 1,
      "retain": false,
      "lwt": true,
      "publish_interval_seccond": 10
    }
  }
]